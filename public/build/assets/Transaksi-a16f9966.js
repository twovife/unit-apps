import{r as y,j as t,a,b as w,d as C}from"./app-5961f4b0.js";import{I as n}from"./InputLabel-d4c2c501.js";import{L as T}from"./LinkButton-cd61970f.js";import{P as S}from"./PrimaryButton-2c161aa4.js";import{S as m}from"./SelectList-90f80295.js";import{T as p}from"./TextInput-492a5032.js";import{u as L}from"./useServerFilter-5b0fa457.js";import{M}from"./MobileLayout-29715c44.js";import{d as h}from"./dayjs.min-96644c1c.js";import{N as F}from"./react-number-format.es-45052940.js";import"./Loading-33771985.js";import"./transition-fa8a8fe4.js";import"./SweetAlert-fadedc8e.js";import"./createLucideIcon-a63e47cf.js";import"./react-icons.esm-e245ff62.js";import"./index-b38ee83a.js";import"./button-007f19dc.js";import"./utils-36e2ef84.js";import"./index-fec074f6.js";import"./index-5dc2f701.js";const X=({data:c,branch:j,server_filters:r,...s})=>{const{serverFilters:o,onServerFilterChange:i,onServerFilterSubmit:u,loading:N,setLoading:D,mantriMantri:g,transaction_day:x}=L(route().current(),r);console.log(r);const f=r.previledge=="mantri"?[{id:1,value:r.kelompok,display:`Mantri ${r.kelompok}`}]:g,[d,b]=y.useState(""),v=()=>c.filter(e=>{const l=d.toLowerCase();return e.nik.toLowerCase().includes(l)||e.nama.toLowerCase().includes(l)||e.id==l}),k=e=>{b(e.target.value)};return t(M,{auth:s.auth,errors:s.errors,header:"Buku Transaksi",loading:N,children:[a(w,{title:"Buku Transaksi"}),t("div",{className:"mb-3",children:[t("div",{className:"flex justify-between items-center w-full gap-1 flex-wrap",children:[t("div",{className:"flex-1",children:[a(n,{htmlFor:"kelompok",value:"Kelompok"}),a(m,{id:"kelompok",type:"text",onChange:i,name:"kelompok",value:o.kelompok,options:f,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),t("div",{className:"flex-1",children:[a(n,{htmlFor:"hari",value:"Hari"}),a(m,{id:"hari",type:"text",onChange:i,name:"hari",value:o.hari,options:x,className:"mt-1 block w-full",autoComplete:"hari"})]}),t("div",{className:"flex-1",children:[a(n,{htmlFor:"date",value:"Tanggal Pengajuan"}),t("div",{className:"flex text-center items-center gap-1",children:[a("div",{className:"flex-1",children:a(p,{id:"date",type:"month",onChange:i,value:o.date,name:"date",className:"mt-1 block w-full"})}),a(S,{onClick:u,title:"Cari"}),a(T,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),a("div",{className:"w-full mt-3",children:a(p,{value:d,onChange:k,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),a("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] lg:max-h-[65vh] border-b-2",children:t("table",{className:"text-sm w-full border",children:[a("thead",{className:"bg-gray-200",children:t("tr",{className:"text-center",children:[a("td",{className:"p-2",children:"Tgl"}),a("td",{className:"p-2",children:"Nasabah"}),a("td",{className:"p-2",children:"Drop"}),a("td",{className:"p-2",children:"Status"}),a("td",{className:"p-2",children:"No. Trans"})]})}),a("tbody",{children:c&&v().map((e,l)=>t("tr",{className:`even:bg-gray-100 text-xs text-center ${e.id==s.id?"bg-green-100":""}`,children:[t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"font-semibold text-sm"}),t("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[a("span",{className:"capitalize",children:"Pengajuan : "}),e.transaction_date?h(e.transaction_date).format("DD-MM-YY"):"","/"]}),a("div",{className:"mb-1 italic font-light",children:t("span",{className:"capitalize",children:["Drop : ",e.tanggal_drop?h(e.tanggal_drop).format("DD-MM-YY"):""]})})]}),t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"mb-1 font-semibold",children:e.nama}),a("div",{className:"mb-1",children:e.nik}),a("div",{className:"mb-1 font-light italic",children:e.alamat})]}),a("td",{className:"px-2 py-1 text-end",children:a(F,{value:e.drop,displayType:"text",thousandSeparator:","})}),a("td",{className:"px-2 py-1 text-center",children:a(C,{className:`${e.status=="acc"?"bg-green-500":e.status=="tolak"?"bg-red-500":"bg-blue-500"} px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded`,href:route("mantriapps.show",e.id),children:e.status})}),a("td",{className:"px-2 py-1",children:a("div",{children:e.id})})]},l))})]})})]})};export{X as default};
