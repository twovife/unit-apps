import{r as o,j as m,a as t,d as E,R as A}from"./app-b5625934.js";import{T as D,a as I,b as g,c as n,d as _,e as l}from"./table-112ab48f.js";import{F as c}from"./FormatNumbering-ba546c90.js";import"./button-67fd56b0.js";import C from"./Action-b7506159.js";import"./utils-36e2ef84.js";import"./react-number-format.es-12a669e1.js";import"./dialog-3d367024.js";import"./index-ffcae651.js";import"./react-icons.esm-1fb93012.js";import"./index-c5b39d86.js";import"./card-edf02fa5.js";import"./badge-e0ff7c20.js";import"./BayarAngsuran-84af5113.js";import"./label-afa1f2bd.js";import"./index-ee2acc57.js";import"./input-dae5d871.js";import"./index.esm-4716ed40.js";import"./Checkbox-84c0f86d.js";import"./Loading-f91d4b2d.js";import"./transition-4a786eba.js";import"./JenisNasabah-b86f14af.js";import"./InputError-060683ba.js";import"./InputLabel-4d0e9e40.js";import"./PrimaryButton-09b7de94.js";import"./SelectList-3bdd40b8.js";import"./DeleteAngsuran-7f902f1c.js";import"./TextInput-b4a819d8.js";const ot=({dateOfWeek:i,datas:u,sirkulasi:p})=>{const[d,S]=o.useState([]);o.useEffect(()=>{if(u){const e=u.map((a,b)=>(()=>{const h={},N=(r=>{switch(r.type){case"ml":return p.ml_amount;case"mb":return p.mb_amount;case"cm":return p.cm_amount;default:return r.data.reduce((s,B)=>s+B.saldo_sebelumnya,0)}})(a);i.forEach(r=>{h[r]=0});let f=0;return a.data.forEach(r=>{i.forEach(s=>{r.instalment[s]!==void 0&&(f+=r.instalment[s],h[s]+=r.instalment[s])})}),{key:a.month,instalment:{...h},sirkulasi:N,totalInstalment:f,sirkulasiAfter:N-f}})());S(e)}},[u]);const[v,y]=o.useState(null),[T,k]=o.useState(!1),j=()=>{k(!1),y(null)};return m("div",{className:"relative overflow-auto h-[60vh] lg:h-[85vh] scrollbar-thin",children:[m(D,{className:"text-xs rounded-lg",children:[t(I,{className:"sticky top-0 left-0 z-10",children:m(g,{className:"bg-gray-200",children:[t(n,{className:"text-center",children:"Bulan"}),t(n,{className:"text-center",children:"Sirkulasi"}),i.map((e,a)=>t(n,{className:"text-center",children:E(e).format("DD-MM-YY")},a)),t(n,{className:"text-center",children:"Angsuran"}),t(n,{className:"text-center",children:"Saldo"})]})}),t(_,{children:d?d.map((e,a)=>t(A.Fragment,{children:m(g,{children:[t(l,{children:e.key}),t(l,{children:t(c,{value:e.sirkulasi})}),i.map((b,x)=>t(l,{className:"text-center",children:t(c,{value:e.instalment[b]})},x)),t(l,{children:t(c,{value:e.totalInstalment})}),t(l,{children:t(c,{value:e.sirkulasiAfter})})]})},a)):t(g,{children:t(l,{children:"a"})})})]}),t(C,{datas:d,show:T,onClosed:j,triggeredId:v})]})};export{ot as default};
