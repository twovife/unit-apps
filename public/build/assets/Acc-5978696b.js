import{W as _,r as j,j as l,a as s,F as r}from"./app-05ace050.js";import{L as P}from"./Loading-ea9d09c7.js";import{N as f}from"./NoEditOverlay-f6a2e106.js";import{u as A}from"./useFrontEndPermission-6b36d1b4.js";import{B as t}from"./badge-c55082f3.js";import{B as e}from"./button-f846fb70.js";import{L as h}from"./label-b44c9129.js";import{C as d}from"./index.esm-cdd7f947.js";import"./transition-530e12d2.js";import"./utils-36e2ef84.js";import"./index-66016791.js";import"./index-d7357eeb.js";const U=({id:a,acc:v,onClosed:b,triggeredData:n})=>{const{data:u,setData:m,put:x,errors:T,processing:k,reset:C,transform:w}=_({approved_nominal:"",status:"",drop:""}),{isMantri:N,isCreator:y}=A();j.useEffect(()=>{m(o=>({...o,approved_nominal:(n==null?void 0:n.acc)??(n==null?void 0:n.request),drop:n==null?void 0:n.acc}))},[a,v]);const p=(o,i)=>{m(i,o)},c=o=>{w(i=>({...i,status:o})),x(route("transaction.action_buku_transaksi",a),{onSuccess:()=>{C(),b()}})};return l("form",{className:"w-full",onSubmit:o=>o.preventDefault(),children:[!y&&s(f,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),s(P,{show:k}),s("div",{className:"mb-3",children:(n==null?void 0:n.status)==="open"?l(r,{children:[N&&s(f,{value:"Tunggu Pimpinan Acc Terlebih Dahulu"}),s(h,{htmlFor:"approved_nominal",children:"Nominal ACC"}),l("div",{className:"flex items-center justify-center gap-3",children:[s(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"approved_nominal",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:u.approved_nominal,placeholder:"Inputkan angka tanpa sparator"}),s(e,{variant:"green",onClick:()=>c("acc"),children:"ACC"}),s(e,{variant:"destructive",onClick:()=>c("tolak"),children:"Tolak"})]})]}):l(t,{size:"lg",variant:"green",children:["Status Pengajuan = ",n==null?void 0:n.status,", Pada Tanggal",n==null?void 0:n.check_date]})}),(n==null?void 0:n.status)!=="open"&&s("div",{className:"mb-3",children:(n==null?void 0:n.status)==="acc"?l(r,{children:[s(h,{htmlFor:"drop",className:"whitespace-normal",children:"Drop Jadi"}),l("div",{className:"flex items-center justify-center gap-3",children:[s(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"drop",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:u.drop,placeholder:"Inputkan angka tanpa sparator"}),s(e,{variant:"green",onClick:()=>c("success"),children:"DROP"}),s(e,{variant:"destructive",onClick:()=>c("gagal"),children:"GAGAL"})]})]}):l(t,{size:"lg",variant:"green",children:["Status Pengajuan = ",n==null?void 0:n.status,", Tanggal",n==null?void 0:n.check_date]})})]})};export{U as default};
