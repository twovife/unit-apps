import{r as n,j as a,e as A}from"./app-BvKuqoBi.js";import{D as C,a as S,b as E,c as D,d as P}from"./dialog-DMV1P0Zv.js";import{A as R,a as _,b as M,c as U}from"./accordion-CukzbO_J.js";import{C as t,a as l,b as o,d as c}from"./card-BeTp4jA1.js";import{T as H,a as L,b as d,c as h}from"./tabs-DSqyORfY.js";import g from"./RiwayatPengajuan-D_6ZFIPa.js";import J from"./Acc-C5viUEsj.js";import O from"./ActionTable-DmFCiHqX.js";import q from"./RemoveLoan-DGgApjCH.js";import"./Loading-D_WuvGcZ.js";import"./index-DIXMiopV.js";import"./button-DtL9WRbW.js";import"./label-BMJXupDB.js";import F from"./ChangeDetail-DyGLZxIX.js";import{N as b}from"./NoEditOverlay-CB_lEJXa.js";import{u as I}from"./useFrontEndPermission-F0FDD-Qm.js";import"./index-DOdVOgjz.js";import"./index-Cc_rgLSA.js";import"./index-F1xwAjNS.js";import"./Combination-CedXry1v.js";import"./index-BxrmvrK1.js";import"./index-Cc4FUOYm.js";import"./react-icons.esm-CTYDISBq.js";import"./utils-CytzSlOG.js";import"./index-Bd7IjdJM.js";import"./index-E0CfJ041.js";import"./table-Cijnducd.js";import"./index-BASljYUe.js";import"./BadgeStatus-C3AJhPRJ.js";import"./badge-CC5P_bot.js";import"./index.esm-sSG4j7Px.js";import"./FormatNumbering-Bb50YzXz.js";import"./react-number-format.es-BDRixEjp.js";import"./transition-CpnrhWL3.js";import"./index-BiuMNX1T.js";import"./input-DpFkS_1a.js";const Aa=({show:k=!1,onClosed:i,triggeredData:s})=>{const[e,v]=n.useState([]),{isCreator:u}=I(),[x,p]=n.useState([]),[K,N]=n.useState(),[y,m]=n.useState(!1),[w,j]=n.useState(!1);n.useEffect(()=>{v(s),N(s==null?void 0:s.request)},[s]);const T=async f=>{m(!0),j(),await A({method:"post",url:route("transaction.nasabah_buku_transaksi"),data:{nik:s.nik}}).then(function({data:r}){m(!1),r.data?p(r.data):p([])}).catch(function({response:r}){j(r.data.message),m(!1)})};return n.useEffect(()=>{s!=null&&s.nik&&T()},[s]),a.jsx(a.Fragment,{children:a.jsx(C,{open:k,onOpenChange:f=>f?"":i(),children:a.jsxs(S,{className:"w-[98vw] p-2",children:[w&&a.jsx("div",{children:"terjadi kesalahan saat memuat data"}),y?a.jsx("div",{children:"Data Sedang Dimuat"}):a.jsxs(E,{children:[a.jsx(D,{className:"p-2",children:"Check Transaksi Mantri"}),a.jsx(P,{children:a.jsxs(H,{defaultValue:"account",className:"w-full",children:[a.jsxs(L,{className:"grid w-full grid-cols-3",children:[a.jsx(d,{value:"account",children:"Action"}),a.jsx(d,{value:"history",children:"Crash Kantor"}),a.jsx(d,{value:"crashubm",children:"Crash UBM"})]}),a.jsxs(h,{value:"account",className:"h-[80vh] overflow-auto scrollbar-thin",children:[a.jsxs(t,{children:[a.jsx(l,{children:a.jsx(o,{children:"Detail Pengajuan"})}),a.jsx(c,{className:"space-y-2",children:a.jsx("div",{className:"overflow-auto border rounded-lg scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:a.jsx(O,{datas:e})})})]}),a.jsxs("div",{className:"flex flex-col gap-3 mt-3 lg:flex-row",children:[a.jsxs("div",{className:"w-full",children:[a.jsxs(t,{className:"relative mb-3",children:[a.jsx(l,{children:a.jsx(o,{children:"ACC / DROP"})}),a.jsx(c,{className:"space-y-2",children:a.jsx("div",{className:"flex items-end justify-center gap-2 mx-auto mb-3",children:a.jsx(J,{id:e==null?void 0:e.nomor_pengajuan,triggeredData:e,onClosed:i})})})]}),a.jsxs(t,{className:"relative",children:[!u&&a.jsx(b,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),a.jsx(l,{children:a.jsx(o,{children:"Admin Edit"})}),a.jsx(c,{className:"space-y-2",children:a.jsx("div",{children:e&&a.jsx(F,{onClosed:i,triggeredData:s})})})]})]}),a.jsxs(t,{className:"relative w-full",children:[!u&&a.jsx(b,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),a.jsx(l,{children:a.jsx(o,{children:"Remove Loan"})}),a.jsxs(c,{className:"space-y-2",children:[a.jsxs("div",{className:"w-full mt-6 mb-3 text-start",children:[a.jsx("p",{className:"text-lg font-semibold text-red-500",children:"Hapus Pinjaman"}),a.jsxs("p",{className:"mb-1 text-xs italic font-light text-red-500",children:["Perhatian !!!, Jika pengajuan berstatus sukses, maka pengajuan sudah masuk dalam daftar angsuran, jika tetap dihapus akan mempengaruhi data pada angsuran, dan angsuran akan ikut terhapus.",a.jsx("br",{})," ( Penghapusan hanya bisa dilakukan 2hari dari tanggal drop (Mantri) dan 2bulan (Admin & Kepala))"]}),a.jsx("div",{className:"text-right",children:a.jsx(q,{triggeredId:e==null?void 0:e.nomor_pengajuan,onClosed:i})})]}),a.jsx(R,{className:"mb-3",type:"single",collapsible:!0,children:a.jsxs(_,{value:"item-1",children:[a.jsx(M,{children:"Tambahan"}),a.jsx(U,{children:a.jsx("div",{className:"text-sm",children:a.jsxs("ul",{className:"list-disc list-outside",children:[a.jsx("li",{children:"1. Jika ada kesalahan pada angsuran baru ( angsuran hari ini ) utamakan menghapus, dan buat angsuran lagi."}),a.jsx("li",{children:"2. Jika terjadi kesalahan Status * Tanggal, usahakan untuk ganti tanggal ( tanggal drop / tanggal request ) dan dan reset status setelah itu"}),a.jsx("li",{children:"3. Setelah mengganti Detail pada angsuran, dimohon untuk cek ulang, storting & dan transaksi lagi, dikarenakan perubahan pada detail, akan mempengaruhi laporan lainnya"}),a.jsx("li",{className:"text-red-500",children:"4. Reset Status Hanya Tersedia jika pinjaman adalah drop lama / pengajuan"})]})})})]})})]})]})]})]}),a.jsx(h,{value:"history",className:"h-[80vh] overflow-auto scrollbar-thin",children:a.jsx("div",{className:"overflow-auto scrollbar-thin h-max",children:a.jsx(g,{data:x.history_branch})})}),a.jsx(h,{value:"crashubm",className:"h-[80vh] overflow-auto scrollbar-thin",children:a.jsx("div",{className:"overflow-auto scrollbar-thin h-max",children:a.jsx(g,{data:x.history_lain})})})]})})]})]})})})};export{Aa as default};
