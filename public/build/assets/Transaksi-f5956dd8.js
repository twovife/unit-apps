import{r as y,j as t,a,b as w,d as C}from"./app-dcf13033.js";import{I as n}from"./InputLabel-f4d3a8c3.js";import{L as T}from"./LinkButton-9a1af878.js";import{P as S}from"./PrimaryButton-e746c6bd.js";import{S as m}from"./SelectList-432143fc.js";import{T as p}from"./TextInput-7f759d13.js";import{u as L}from"./useServerFilter-0e9c0b3f.js";import{M}from"./MobileLayout-695c2b28.js";import{d as h}from"./dayjs.min-c945927f.js";import{N as F}from"./react-number-format.es-41718927.js";import"./Loading-056a80f7.js";import"./transition-10f56c81.js";import"./SweetAlert-0659e49d.js";import"./createLucideIcon-7af152b9.js";import"./react-icons.esm-d26aebf6.js";import"./index-b1e70dfa.js";import"./button-c48722d1.js";import"./utils-36e2ef84.js";import"./index-73122204.js";import"./index-3296fce1.js";const X=({data:c,branch:j,server_filters:r,...s})=>{const{serverFilters:o,onServerFilterChange:i,onServerFilterSubmit:u,loading:N,setLoading:D,mantriMantri:g,transaction_day:x}=L(route().current(),r);console.log(r);const f=r.previledge=="mantri"?[{id:1,value:r.kelompok,display:`Mantri ${r.kelompok}`}]:g,[d,b]=y.useState(""),v=()=>c.filter(e=>{const l=d.toLowerCase();return e.nik.toLowerCase().includes(l)||e.nama.toLowerCase().includes(l)||e.id==l}),k=e=>{b(e.target.value)};return t(M,{auth:s.auth,errors:s.errors,header:"Buku Transaksi",loading:N,children:[a(w,{title:"Buku Transaksi"}),t("div",{className:"mb-3",children:[t("div",{className:"flex justify-between items-center w-full gap-1 flex-wrap",children:[t("div",{className:"flex-1",children:[a(n,{htmlFor:"kelompok",value:"Kelompok"}),a(m,{id:"kelompok",type:"text",onChange:i,name:"kelompok",value:o.kelompok,options:f,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),t("div",{className:"flex-1",children:[a(n,{htmlFor:"hari",value:"Hari"}),a(m,{id:"hari",type:"text",onChange:i,name:"hari",value:o.hari,options:x,className:"mt-1 block w-full",autoComplete:"hari"})]}),t("div",{className:"flex-1",children:[a(n,{htmlFor:"date",value:"Tanggal Pengajuan"}),t("div",{className:"flex text-center items-center gap-1",children:[a("div",{className:"flex-1",children:a(p,{id:"date",type:"month",onChange:i,value:o.date,name:"date",className:"mt-1 block w-full"})}),a(S,{onClick:u,title:"Cari"}),a(T,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),a("div",{className:"w-full mt-3",children:a(p,{value:d,onChange:k,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),a("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] lg:max-h-[65vh] border-b-2",children:t("table",{className:"text-sm w-full border",children:[a("thead",{className:"bg-gray-200",children:t("tr",{className:"text-center",children:[a("td",{className:"p-2",children:"Tgl"}),a("td",{className:"p-2",children:"Nasabah"}),a("td",{className:"p-2",children:"Drop"}),a("td",{className:"p-2",children:"Status"}),a("td",{className:"p-2",children:"No. Trans"})]})}),a("tbody",{children:c&&v().map((e,l)=>t("tr",{className:`even:bg-gray-100 text-xs text-center ${e.id==s.id?"bg-green-100":""}`,children:[t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"font-semibold text-sm"}),t("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[a("span",{className:"capitalize",children:"Pengajuan : "}),e.transaction_date?h(e.transaction_date).format("DD-MM-YY"):"","/"]}),a("div",{className:"mb-1 italic font-light",children:t("span",{className:"capitalize",children:["Drop : ",e.tanggal_drop?h(e.tanggal_drop).format("DD-MM-YY"):""]})})]}),t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"mb-1 font-semibold",children:e.nama}),a("div",{className:"mb-1",children:e.nik}),a("div",{className:"mb-1 font-light italic",children:e.alamat})]}),a("td",{className:"px-2 py-1 text-end",children:a(F,{value:e.drop,displayType:"text",thousandSeparator:","})}),a("td",{className:"px-2 py-1 text-center",children:a(C,{className:`${e.status=="acc"?"bg-green-500":e.status=="tolak"?"bg-red-500":"bg-blue-500"} px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded`,href:route("mantriapps.show",e.id),children:e.status})}),a("td",{className:"px-2 py-1",children:a("div",{children:e.id})})]},l))})]})})]})};export{X as default};
