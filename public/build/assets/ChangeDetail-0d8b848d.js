import{W as _,r as v,j as l,a as n,F as x}from"./app-f21784f0.js";import{L as w}from"./Loading-d2c534b8.js";import{s as u}from"./utils-46f1eee5.js";import{B as q}from"./button-d2f32f75.js";import{I as m}from"./input-c306771f.js";import{L as s}from"./label-86b0abbc.js";import{C as d}from"./index.esm-1d1dc7b4.js";import"./transition-88ba8c6f.js";import"./index-f96983da.js";import"./index-1bd00da6.js";import"./index-3272f2f4.js";const E=({triggeredData:e,onClosed:p})=>{const{data:o,setData:r,put:c,processing:f,reset:h}=_({});v.useEffect(()=>{e&&r({request_date:e.request_date,drop_date:e.tanggal_drop,request_nominal:e.drop_langsung=="lama"?e.request:e.drop_jadi,approved_nominal:e.drop_langsung=="lama"?e.acc:e.drop_jadi,nominal_drop:e.drop_jadi})},[e]);const i=(a,b)=>{r(b,a)},t=a=>{r(a.target.name,a.target.value)};return l("form",{onSubmit:a=>{a.preventDefault(),c(route("transaction.updateEverything",e==null?void 0:e.nomor_pengajuan),{preventDefault:!0,preserveState:!0,onSuccess:()=>{h(),p()}})},children:[n(w,{show:f}),l("div",{className:"flex w-full gap-3 mb-3",children:[l("div",{className:"flex-1",children:[n(s,{htmlFor:"request_date",children:"Tanggal Pengajuan"}),n(m,{type:"date",onChange:t,value:o.request_date,id:"request_date",required:!0,name:"request_date"})]}),l("div",{className:"flex-1",children:[n(s,{htmlFor:"drop_date",children:"Tanggal Pengajuan"}),n(m,{type:"date",onChange:t,value:o.drop_date,id:"drop_date",required:!0,name:"drop_date"})]})]}),n("small",{children:"Perubahan Tanggal Mempengaruhi Perolehan Drop dan Rencana Drop"}),o.request_date==o.drop_date?n("div",{className:"w-full mb-3 font-semibold text-red-500",children:"DROP BARU"}):n("div",{className:"w-full mb-3 font-semibold text-red-500",children:"PENGAJUAN DROP"}),l("div",{className:"flex w-full gap-3 mb-3",children:[(e==null?void 0:e.drop_langsung)=="lama"&&l(x,{children:[l("div",{className:"flex-1",children:[n(s,{htmlFor:"request_nominal",children:"Nominal Pengajuan"}),n(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"request_nominal",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:o.request_nominal,placeholder:"Inputkan angka tanpa sparator"})]}),u("acc",e==null?void 0:e.status)&&l("div",{className:"flex-1",children:[n(s,{htmlFor:"approved_nominal",children:"Nominal Acc"}),n(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"approved_nominal",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:o.approved_nominal,placeholder:"Inputkan angka tanpa sparator"})]})]}),u("nominal_drop",e==null?void 0:e.status)&&l("div",{className:"flex-1",children:[n(s,{htmlFor:"nominal_drop",children:"Drop Jadi"}),n(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"nominal_drop",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:o.nominal_drop,placeholder:"Inputkan angka tanpa sparator"})]})]}),n("div",{children:n(q,{type:"submit",children:"Ubah"})})]})};export{E as default};
