import{W as F,r as c,j as r,a as e,F as I}from"./app-0631cbdd.js";import{C as T}from"./Checkbox-ec20461f.js";import{I as _}from"./InputLabel-a2425be3.js";import{L as K}from"./Loading-a0ce524c.js";import{B as L}from"./BadgeStatus-a532e679.js";import{B as k}from"./button-ae4b2def.js";import{D as B,a as j,b as q,c as R,d as A}from"./dialog-ff9caeb6.js";import{I as E}from"./input-a37a9a88.js";import{L as u}from"./index-165a61d9.js";import{C as m}from"./index.esm-91c2ffd7.js";import"./transition-d2d78fb4.js";import"./badge-6b9ccbfd.js";import"./utils-36e2ef84.js";import"./index-495b9d19.js";import"./index-5942732c.js";import"./react-icons.esm-0c0f5c7a.js";import"./index-9a945636.js";const na=({show:x=!1,onClosed:d,triggeredData:a,type:t})=>{const{data:l,setData:i,post:v,reset:f,errors:H,processing:w}=F({id:"",kelompok:"",date:"",kasbon:"",transport:"",type:"1",tunai:""}),[b,O]=c.useState(!1),p=c.useRef(null);c.useEffect(()=>{p.current&&p.current.focus()},[p.current]),c.useEffect(()=>{a&&i({id:a.id,kelompok:a.kelompok,date:a.tanggal,kasbon:a.kasbon,transport:a.transport,type:t,tunai:a.tunai})},[a]);const y=o=>{i(n=>({...n,[o.target.name]:o.target.type==="checkbox"?o.target.checked:o.target.value}))},C=o=>{const n=o;i(s=>({...s,kasbon:n,tunai:h(n,s.transport)}))},N=o=>{const n=o;i(s=>({...s,transport:n,tunai:h(s.kasbon,n)}))},h=(o,n)=>{const s=a.tunai-a.kasbon+a.transport;return console.log(s),console.log(a.tunai,a.kasbon,a.transport),parseFloat(s)+parseFloat(o)-parseFloat(n)},S=()=>{d(),f()},g=o=>{o.preventDefault(),v(route("kasir.rekap.rekap_post"),{onSuccess:()=>{f(),d()}})};return r(B,{open:x,onOpenChange:o=>o?"":S(),children:[e(K,{show:b||w}),e(j,{className:"w-[90vw] h-[90vh] lg:h-auto lg:max-w-xl overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:b?e("div",{children:"Data Sedang Dimuat"}):r(q,{children:[e(R,{children:t==1?"Input Kasbon & Transport":"Cek Tunai Mantri"}),e(A,{children:r("form",{onSubmit:g,children:[r("div",{className:"mb-3",children:[e(u,{htmlFor:"date",children:"Tanggal"}),e(E,{readOnly:!0,name:"date",type:"date",required:!0,onChange:y,value:l.date})]}),r("div",{className:"mb-3",children:[e(u,{htmlFor:"kasbon",children:"Kasbon"}),e(m,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"kasbon",allowDecimals:!1,ref:p,prefix:"Rp. ",min:1,required:!0,onValueChange:C,value:l.kasbon,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[e(u,{htmlFor:"transport",children:"Transport"}),e(m,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"transport",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:l.transport,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[e(u,{htmlFor:"tunai",children:"Tunai"}),e(m,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"tunai",allowDecimals:!1,readOnly:!0,prefix:"Rp. ",min:1,value:l.tunai,placeholder:"Inputkan angka tanpa sparator"})]}),(a==null?void 0:a.status_approve_kepala)&&e(L,{className:"mb-3",value:"acc",children:"Kepala Sudah Aprov"}),(a==null?void 0:a.status_approve_kepala)&&t==2&&r(I,{children:[r("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[e(T,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),e(_,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),e("div",{className:"mb-3 text-right",children:e(k,{type:"submit",children:"Submit"})})]}),t==1&&e("div",{className:"mb-3 text-right",children:e(k,{type:"submit",children:"Submit"})})]})})]})})]})};export{na as default};
