import{r as n,a as e,F as h,j as r,e as T}from"./app-c852447f.js";import{D as _,a as S,b as A,c as C,d as P}from"./dialog-37297b03.js";import{C as l,a as o,b as t,d as m,c as R}from"./card-f9a33d03.js";import{T as D,a as E,b,c as g}from"./tabs-fa800c98.js";import L from"./RiwayatPengajuan-76d55332.js";import q from"./Acc-cb2bc813.js";import F from"./Tolak-3b82ee3b.js";import H from"./DropJadi-6605ab7f.js";import I from"./Gagal-67bdb22c.js";import J from"./DetailTableOnAction-59c743a2.js";import O from"./RemoveLoan-865d697f.js";import"./index-e9664f0b.js";import"./react-icons.esm-26840eb3.js";import"./index-71acb7a6.js";import"./button-f1d79983.js";import"./index-f96983da.js";import"./utils-36e2ef84.js";import"./index-4a6df377.js";import"./FormatNumbering-697f2e7e.js";import"./react-number-format.es-0ad3a443.js";import"./index-c09943f8.js";import"./DetailRiwayat-f488580d.js";import"./play-ed54e29a.js";import"./createLucideIcon-88b2e6a4.js";import"./Loading-3cde90b0.js";import"./transition-bebf8616.js";import"./label-d7b82de4.js";import"./index-14a993ee.js";import"./index.esm-0dcdc36d.js";import"./badge-f9279f6f.js";const va=({show:v=!1,onClosed:i,triggeredData:s})=>{const[a,j]=n.useState([]);console.log(a);const[k,p]=n.useState([]),[G,w]=n.useState(),[y,u]=n.useState(!1),[N,d]=n.useState(!1);n.useEffect(()=>{j(s),w(s==null?void 0:s.request)},[s]);const x=async f=>{u(!0),d(),await T({method:"post",url:route("transaction.nasabah_buku_transaksi"),data:{nik:s.nik}}).then(function({data:c}){u(!1),c.falidate_nik?p(c.data):p([])}).catch(function({response:c}){d(c.data.message),u(!1)})};return n.useEffect(()=>{s!=null&&s.nik&&x()},[s]),e(h,{children:e(_,{open:v,onOpenChange:f=>f?"":i(),children:r(S,{className:"w-[90vw] h-[90vh] lg:h-auto overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[N&&e("div",{children:"terjadi kesalahan saat memuat data"}),y?e("div",{children:"Data Sedang Dimuat"}):r(A,{children:[e(C,{children:"Check Transaksi Mantri"}),e(P,{children:r(D,{defaultValue:"account",className:"w-full",children:[r(E,{className:"grid w-full grid-cols-2",children:[e(b,{value:"account",children:"Action"}),e(b,{value:"history",children:"Riwayat"})]}),r(g,{value:"account",children:[r(l,{children:[e(o,{children:e(t,{children:"Detail Pengajuan"})}),e(m,{className:"space-y-2",children:e("div",{className:"overflow-auto border rounded-lg scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:e(J,{datas:a})})})]}),r("div",{className:"flex flex-col gap-3 mt-3 lg:flex-row",children:[r(l,{className:"w-full",children:[e(o,{children:e(t,{children:"Acc"})}),e(m,{className:"space-y-2",children:e("div",{className:"flex items-end justify-center gap-2 mx-auto lg:w-1/2",children:(a==null?void 0:a.status)==="open"?r(h,{children:[e(q,{id:a==null?void 0:a.nomor_pengajuan,acc:(a==null?void 0:a.acc)??(a==null?void 0:a.request),onClosed:i}),e(F,{id:a==null?void 0:a.nomor_pengajuan,onClosed:i})]}):r("div",{children:["Status Pengajuan = ",a==null?void 0:a.status,", Tanggal"," ",a==null?void 0:a.check_date]})})})]}),(a==null?void 0:a.status)!=="open"&&r(l,{className:"w-full",children:[e(o,{children:e(t,{children:"Drop Jadi"})}),e(m,{className:"space-y-2",children:e("div",{className:"flex items-end justify-center gap-2 mx-auto lg:w-1/2",children:(a==null?void 0:a.status)==="acc"?r(h,{children:[e(H,{id:a==null?void 0:a.nomor_pengajuan,drop_jadi:a==null?void 0:a.acc,onClosed:i}),e(I,{id:a==null?void 0:a.nomor_pengajuan,onClosed:i})]}):r("div",{children:["Status Pengajuan = ",a==null?void 0:a.status,", Tanggal"," ",a==null?void 0:a.check_date]})})})]}),e("div",{children:e(O,{triggeredId:a==null?void 0:a.nomor_pengajuan,onClosed:i})})]})]}),e(g,{value:"history",children:r(l,{children:[r(o,{children:[e(t,{children:"Riwayat Pengajuan"}),e(R,{children:"Riwayat Pengajuan Nasabah dilihat berdasarkan NIK yang tertera dari semua cabang"})]}),e(m,{className:"space-y-2",children:e("div",{className:"h-[50vh] border rounded-lg overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:e(L,{data:k})})})]})})]})})]})]})})})};export{va as default};
