import{r as y,j as r,a as e,d as k,c as w}from"./app-2f425a93.js";import{I as m}from"./InputLabel-8e82e15d.js";import{L as S}from"./LinkButton-e33844bd.js";import{P as j}from"./PrimaryButton-6d413997.js";import{S as p}from"./SelectList-1e965864.js";import{T as C}from"./TextInput-18c5825f.js";import{u as L}from"./useServerFilter-6d6d8873.js";import{M as T}from"./MobileLayout-104f2395.js";import{N as s}from"./react-number-format.es-2d245564.js";import"./Loading-e8f73e4f.js";import"./transition-d525fa3f.js";import"./SweetAlert-0c0fd891.js";import"./createLucideIcon-a2c65c20.js";import"./react-icons.esm-ad6a440a.js";import"./index-f315d2f8.js";import"./button-83fee3ba.js";import"./index-f96983da.js";import"./utils-46f1eee5.js";import"./index-f0f566ce.js";import"./index-b9fbb659.js";import"./index-b77a964d.js";const X=({data:i,server_filters:l,...n})=>{const{serverFilters:o,onServerFilterChange:d,onServerFilterSubmit:h,loading:u,setLoading:M,mantriMantri:b,transaction_day:N}=L(route().current(),l),v=l.previledge=="mantri"?[{id:1,value:l.kelompok,display:l.kelompok}]:b,[c,f]=y.useState(""),x=()=>i.filter(a=>{const t=c.toLowerCase();return a.nik.toLowerCase().includes(t)||a.nama.toLowerCase().includes(t)||a.id==t}),g=a=>{f(a.target.value)};return r(T,{auth:n.auth,errors:n.errors,header:"Angsuran Macet Lama",loading:u,children:[r("div",{className:"mb-3",children:[r("div",{className:"lg:flex justify-between items-center w-full gap-1 flex-wrap",children:[r("div",{className:"flex-1",children:[e(m,{htmlFor:"kelompok",value:"Kelompok"}),e(p,{id:"kelompok",type:"text",onChange:d,name:"kelompok",value:o.kelompok,options:v,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),r("div",{className:"flex-[2]",children:[e(m,{htmlFor:"hari",value:"Hari"}),r("div",{className:"flex text-center items-center gap-1",children:[e("div",{className:"flex-1",children:e(p,{id:"hari",type:"text",onChange:d,name:"hari",value:o.hari,options:N,className:"mt-1 block w-full",autoComplete:"hari"})}),e(j,{onClick:h,title:"Cari"}),e(S,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),e("div",{className:"w-full mt-3",children:e(C,{value:c,onChange:g,className:"w-full",placeholder:"Masukkan NIK / Nama"})})]}),e("div",{className:"overflow-auto rounded shadow-lg max-h-[50vh] border-b-2 border-2 border-white/50",children:r("table",{className:"text-sm w-full border",children:[e("thead",{className:"bg-gray-200",children:r("tr",{className:"text-center",children:[e("td",{className:"p-2",children:"Tgl"}),e("td",{className:"p-2",children:"Nasabah"}),e("td",{className:"p-2",children:"Pinjaman"}),e("td",{className:"p-2",children:"Status"})]})}),e("tbody",{children:i&&x().map((a,t)=>r("tr",{className:`text-xs ${a.is_paid?"even:bg-green-100 bg-green-100":"even:bg-gray-100"}`,children:[e("td",{className:"px-2 py-1",children:e("div",{className:"mb-1 italic font-light",children:e("span",{className:"capitalize",children:a.tanggal_drop?k(a.tanggal_drop).format("DD-MM"):""})})}),r("td",{className:"px-2 py-1",children:[e("div",{className:"mb-1 font-semibold",children:a.nama}),e("div",{className:"mb-1",children:a.nik}),e("div",{className:"mb-1 font-light italic",children:a.alamat})]}),e("td",{className:"px-2 py-1 text-end",children:r("div",{className:"text-xs",children:[r("div",{className:"flex justify-between gap-6",children:[e("div",{children:"Pinj"}),e(s,{value:a.pinjaman,displayType:"text",thousandSeparator:","})]}),r("div",{className:"flex justify-between mb-1 border-b-black border-b-2",children:[e("div",{children:"Angs"}),e(s,{value:a.total_angsuran,displayType:"text",thousandSeparator:","})]}),a.saldo_ansuran==0?r("div",{className:"flex justify-between items-center",children:[e("div",{children:"Sisa"}),e("div",{className:"bg-green-500 font-bold px-2 py-1 rounded",children:"LUNAS"})]}):r("div",{className:"flex justify-between",children:[e("div",{children:"Sisa"}),e(s,{value:a.saldo_ansuran,displayType:"text",thousandSeparator:","})]})]})}),e("td",{className:"px-2 py-1 text-center",children:e(w,{className:"bg-blue-500 px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded",href:route("mantriapps.bayar_ml",a.id),children:a.status})})]},t))})]})})]})};export{X as default};
