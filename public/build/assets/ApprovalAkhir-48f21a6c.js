import{q as P,r as A,W,j as r,a as l}from"./app-9b0e93ec.js";import{D as z,a as G,b as Q,c as U}from"./dialog-07be4f55.js";import{C as q,a as F,b as R,d as p}from"./card-bf1b7efb.js";import{L as a}from"./label-835ef1eb.js";import{C as o}from"./index.esm-e1bd2687.js";import{B as X}from"./button-b1d6d48a.js";import{L as Y}from"./Loading-b44a4e72.js";import{C as Z}from"./Checkbox-5cd8cbe2.js";import{I as $}from"./InputLabel-b2f57bcc.js";import"./index-bde2a039.js";import"./index-f7970cca.js";import"./react-icons.esm-d0d83aab.js";import"./index-239c24c6.js";import"./utils-36e2ef84.js";import"./index-e9482f8a.js";import"./transition-e4deee81.js";const ve=({datas:e,show:f=!1,onClosed:V})=>{const{sirkulasi:t,server_filter:{month:O,hari:B,groupId:M}}=P().props,[L,ee]=A.useState(!1),{data:n,setData:b,post:j,reset:le,processing:E,errors:re,transform:ne}=W({ml_amount:"",mb_amount:"",cm_amount:"",amount:""});A.useEffect(()=>{var c,d,m,g,x,_,v,w,k,y,N,C,D,S,I;const s=T=>Object.values(T).reduce((J,{saldo:K})=>J+K,0);let u=0;e&&(u=s(e)),b({month:O,hari:B,transaction_loan_officer_grouping_id:M,ml_amount:(t==null?void 0:t.ml_amount)??0,mb_amount:(t==null?void 0:t.mb_amount)??0,cm_amount:(t==null?void 0:t.cm_amount)??0,calon_cm_amount:((c=e==null?void 0:e.ccm)==null?void 0:c.sirkulasi)??0,normal:(((d=e==null?void 0:e.n1)==null?void 0:d.sirkulasi)??0)+(((m=e==null?void 0:e.normal)==null?void 0:m.sirkulasi)??0),amount:(t==null?void 0:t.amount)??0,ml_amount_akhir:((g=e==null?void 0:e.ml)==null?void 0:g.saldo)??0,mb_amount_akhir:((x=e==null?void 0:e.mb)==null?void 0:x.saldo)??0,cm_amount_akhir:((_=e==null?void 0:e.cm)==null?void 0:_.saldo)??0,calon_cm_amount_akhir:((v=e==null?void 0:e.ccm)==null?void 0:v.saldo)??0,normal_akhir:(((w=e==null?void 0:e.n1)==null?void 0:w.saldo)??0)+(((k=e==null?void 0:e.normal)==null?void 0:k.saldo)??0),amount_akhir:u,amount_next:u,ml_next:(((y=e==null?void 0:e.ml)==null?void 0:y.saldo)??0)+(((N=e==null?void 0:e.mb)==null?void 0:N.saldo)??0),mb_next:((C=e==null?void 0:e.cm)==null?void 0:C.saldo)??0,cm_next:((D=e==null?void 0:e.ccm)==null?void 0:D.saldo)??0,normal_next:(((S=e==null?void 0:e.n1)==null?void 0:S.saldo)??0)+(((I=e==null?void 0:e.normal)==null?void 0:I.saldo)??0)})},[t,f]);const h=()=>{V()},H=s=>{s.preventDefault(),j(route("adminpanel.sirkulasiAwal"),{onSuccess:()=>{h()}})},i=(s,u)=>{const c=["ml_next","mb_next","cm_next","normal_next"];let d=0;c.forEach(m=>{m===u?d+=parseInt(s):d+=parseInt(n[m])}),b(m=>({...m,[u]:s,amount_next:d}))};return r(z,{open:f,onOpenChange:s=>s?"":h(),children:[l(Y,{show:L||E}),r(G,{className:"w-[90vw] h-[90vh] overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[l(Q,{className:"max-h-10",children:l(U,{children:"Isi Angsuran"})}),l(q,{className:"w-full",children:r(F,{children:[l(R,{children:"Sirkulasi"}),r(q,{className:"w-full",children:[l(F,{children:l(R,{children:"Sirkulasi Awal"})}),r("form",{onSubmit:H,children:[r("div",{className:"flex w-full",children:[r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(a,{htmlFor:"amount",children:"Sirkulasi Awal"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"ml_amount",children:"Saldo Awal (ML)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.ml_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"mb_amount",children:"Saldo Awal (MB)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.mb_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"cm_amount",children:"Saldo Awal (CM)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"calon_cm_amount",children:"Saldo Awal (Calon CM)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.calon_cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"normal",children:"Saldo Awal (Normal)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.normal,placeholder:"Inputkan angka tanpa sparator"})]})]}),r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(a,{children:"Sirkulasi Akhir"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,value:n.amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"ml_amount_akhir",children:"Saldo Akhir (ML)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.ml_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"mb_amount_akhir",children:"Saldo Akhir (MB)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.mb_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"cm_amount_akhir",children:"Saldo Akhir (CM)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"calon_cm_amount_akhir",children:"Saldo Akhir (Calon CM)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.calon_cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"normal_akhir",children:"Saldo Akhir (Normal)"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.normal_akhir,placeholder:"Inputkan angka tanpa sparator"})]})]}),r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(a,{htmlFor:"amount_next",children:"Sirkulasi Awal Bulan Depan"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.amount_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"ml_next",children:"Saldo ML Awal Bulan Depan"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.ml_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"mb_next",children:"Saldo MB Awal Bulan Depan"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.mb_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"cm_next",children:"Saldo CM Awal Bulan Depan"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.cm_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(a,{htmlFor:"normal_next",children:"Saldo Normal Awal Bulan Depan"}),l(o,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.normal_next,placeholder:"Inputkan angka tanpa sparator"})]})]})]}),r("div",{className:"flex justify-end p-3",children:[r("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[l(Z,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),l($,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),l(X,{type:"submit",children:"Submit"})]})]})]})]})})]})]})};export{ve as default};
