import{c as be}from"./createLucideIcon-e2a25d74.js";import{q as _e,r as l,W as Ae,c as z,j as u,F as U,a as e,y as Oe}from"./app-35d31ed9.js";import{u as Se,S as R}from"./SelectComponent-97521685.js";import{B as J,u as Z,S as ke}from"./button-1aa3a58c.js";import{I as V}from"./input-68668017.js";import{M as xe,d as Fe,h as Ee,R as De,u as Ie,F as Me,D as Te,P as Le}from"./react-icons.esm-2b559b63.js";import{L as je}from"./Loading-4c55c56e.js";import{L as g}from"./label-abe714e5.js";import{c as We,a as S,P as Q,b as Ye,d as Be}from"./index-30fd9ee9.js";import{c as X,A as ee,C as Ge,a as $e,R as He}from"./index-fd31a729.js";import{P as oe}from"./index-4dbb77c9.js";import{c as Ke}from"./utils-36e2ef84.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Co=({urlLink:o=route("home"),localState:n,searchDate:a=!1,labelDate:s="Date",searchMonth:t=!1,labelMonth:r="Bulan",searchPlanText:i=!1,planTextName:c="search",searchHari:p=!1,searchWilayah:f=!1,searchGroupingBranch:y=!1,searchBranch:N=!1,searchKelompok:m=!1,children:_,nexOrPrevious:A=null,setNexOrPrevious:fe})=>{const{selectedSearchParam:T,optWilayah:L,optBranch:he,selectedWilayah:j,setSelectedWilayah:me,filteredBranch:ve,optKelompok:ge,dayOpt:Pe}=Se(),{server_filter:{hari:W,branch_id:Y,month:B,date:G,wilayah:$,kelompok:H}}=_e().props,x=l.useRef(null),{data:C,setData:v,get:Ce,processing:F}=Ae({}),[we,E]=l.useState(!1),w=d=>{const{name:h,value:O}=d.target;i?h==c?v(D=>{const K={[h]:O};for(const q in D)q!==h&&(K[q]="");return K}):v(D=>({...D,[h]:O,[c]:""})):isNaN(O)?v(h,O):v(h,parseInt(O))},ye=d=>{const{value:h}=d.target;me(h),v({branch_id:""})},Ne=d=>{d.preventDefault(),Ce(o)},Re=d=>{d.preventDefault(),Oe.visit(o,{onStart:h=>E(!0),onFinish:h=>E(!1)}),localStorage.setItem(n,JSON.stringify({oldFilter:[],oldPage:1}))};return l.useEffect(()=>{const d={};T?d[c]=T:(Y&&(d.branch_id=parseInt(Y)),G&&(d.date=G),B&&(d.month=B),$&&(d.wilayah=parseInt($)),H&&(d.kelompok=parseInt(H)),W&&(d.hari=W)),Object.keys(d).length>0&&v(d)},[]),l.useEffect(()=>{E(F)},[F]),l.useEffect(()=>(A&&(A=="next"?(v(d=>({...d,date:z(d.date).add(1,"week").format("YYYY-MM-DD")})),setTimeout(()=>{x.current.click()},500)):A=="previous"&&(v(d=>({...d,date:z(d.date).subtract(1,"week").format("YYYY-MM-DD")})),setTimeout(()=>{x.current.click()},500))),()=>{A&&fe(null)}),[A]),u(U,{children:[e(je,{show:F||we}),u("form",{className:"flex flex-col items-end w-full gap-3 lg:w-auto lg:flex-row",onSubmit:Ne,children:[a&&u("div",{className:"w-full",children:[e(g,{children:s}),e(V,{className:"w-full",type:"date",name:"date",value:C.date,onChange:w,placeholder:"Name of your project"})]}),t&&u("div",{className:"w-full",children:[e(g,{children:r}),e(V,{className:"w-full",type:"month",name:"month",value:C.month,onChange:w,placeholder:"Name of your project"})]}),m&&u("div",{className:"w-full",children:[e(g,{children:"Kelompok"}),e(R,{className:"w-full",value:C.kelompok,options:ge,name:"kelompok",onChange:w})]}),f&&u("div",{className:"w-full",children:[e(g,{children:"Wilayah"}),e(R,{className:"w-full",value:C.wilayah,options:L,name:"wilayah",onChange:w})]}),N&&u("div",{className:"w-full",children:[e(g,{children:"Unit"}),e(R,{className:"w-full",value:C.branch_id,options:he,name:"branch_id",onChange:w})]}),p&&u("div",{className:"w-full",children:[e(g,{children:"Hari"}),e(R,{className:"w-full",value:C.hari,options:Pe,name:"hari",onChange:w})]}),y&&u(U,{children:[u("div",{className:"w-full",children:[e(g,{children:"Wilayah"}),e(R,{className:"w-full",required:"true",value:j,options:L,name:"wilayah",onChange:ye})]}),j!==""&&u("div",{className:"w-full",children:[e(g,{children:"Unit"}),e(R,{required:"true",className:"w-full",value:C.branch_id,options:ve,name:"branch_id",nullvalue:!0,onChange:w})]})]}),u("div",{className:"flex items-center justify-end col-span-2 gap-3",children:[u(J,{ref:x,variant:"outline",type:"submit",children:[e(xe,{className:"h-3.5 w-3.5"}),e("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Cari"})]}),u(J,{variant:"outline",type:"button",onClick:Re,children:[e(Fe,{}),e("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Reset"})]}),_]})]})]})};var I="Popover",[te,wo]=We(I,[X]),k=X(),[qe,P]=te(I),ae=o=>{const{__scopePopover:n,children:a,open:s,defaultOpen:t,onOpenChange:r,modal:i=!1}=o,c=k(n),p=l.useRef(null),[f,y]=l.useState(!1),[N=!1,m]=Ye({prop:s,defaultProp:t,onChange:r});return e(He,{...c,children:e(qe,{scope:n,contentId:Be(),triggerRef:p,open:N,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(_=>!_),[m]),hasCustomAnchor:f,onCustomAnchorAdd:l.useCallback(()=>y(!0),[]),onCustomAnchorRemove:l.useCallback(()=>y(!1),[]),modal:i,children:a})})};ae.displayName=I;var re="PopoverAnchor",ze=l.forwardRef((o,n)=>{const{__scopePopover:a,...s}=o,t=P(re,a),r=k(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=t;return l.useEffect(()=>(i(),()=>c()),[i,c]),e(ee,{...r,...s,ref:n})});ze.displayName=re;var ne="PopoverTrigger",se=l.forwardRef((o,n)=>{const{__scopePopover:a,...s}=o,t=P(ne,a),r=k(a),i=Z(n,t.triggerRef),c=e(oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":ue(t.open),...s,ref:i,onClick:S(o.onClick,t.onOpenToggle)});return t.hasCustomAnchor?c:e(ee,{asChild:!0,...r,children:c})});se.displayName=ne;var M="PopoverPortal",[Ue,Je]=te(M,{forceMount:void 0}),le=o=>{const{__scopePopover:n,forceMount:a,children:s,container:t}=o,r=P(M,n);return e(Ue,{scope:n,forceMount:a,children:e(Q,{present:a||r.open,children:e(Le,{asChild:!0,container:t,children:s})})})};le.displayName=M;var b="PopoverContent",ie=l.forwardRef((o,n)=>{const a=Je(b,o.__scopePopover),{forceMount:s=a.forceMount,...t}=o,r=P(b,o.__scopePopover);return e(Q,{present:s||r.open,children:r.modal?e(Ve,{...t,ref:n}):e(Ze,{...t,ref:n})})});ie.displayName=b;var Ve=l.forwardRef((o,n)=>{const a=P(b,o.__scopePopover),s=l.useRef(null),t=Z(n,s),r=l.useRef(!1);return l.useEffect(()=>{const i=s.current;if(i)return Ee(i)},[]),e(De,{as:ke,allowPinchZoom:!0,children:e(ce,{...o,ref:t,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(o.onCloseAutoFocus,i=>{var c;i.preventDefault(),r.current||(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:S(o.onPointerDownOutside,i=>{const c=i.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0,f=c.button===2||p;r.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:S(o.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ze=l.forwardRef((o,n)=>{const a=P(b,o.__scopePopover),s=l.useRef(!1),t=l.useRef(!1);return e(ce,{...o,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var i,c;(i=o.onCloseAutoFocus)==null||i.call(o,r),r.defaultPrevented||(s.current||(c=a.triggerRef.current)==null||c.focus(),r.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:r=>{var p,f;(p=o.onInteractOutside)==null||p.call(o,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=r.target;((f=a.triggerRef.current)==null?void 0:f.contains(i))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&t.current&&r.preventDefault()}})}),ce=l.forwardRef((o,n)=>{const{__scopePopover:a,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:r,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:y,...N}=o,m=P(b,a),_=k(a);return Ie(),e(Me,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:r,children:e(Te,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:y,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:f,onDismiss:()=>m.onOpenChange(!1),children:e(Ge,{"data-state":ue(m.open),role:"dialog",id:m.contentId,..._,...N,ref:n,style:{...N.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),de="PopoverClose",Qe=l.forwardRef((o,n)=>{const{__scopePopover:a,...s}=o,t=P(de,a);return e(oe.button,{type:"button",...s,ref:n,onClick:S(o.onClick,()=>t.onOpenChange(!1))})});Qe.displayName=de;var Xe="PopoverArrow",eo=l.forwardRef((o,n)=>{const{__scopePopover:a,...s}=o,t=k(a);return e($e,{...t,...s,ref:n})});eo.displayName=Xe;function ue(o){return o?"open":"closed"}var oo=ae,to=se,ao=le,pe=ie;const yo=oo,No=to,ro=l.forwardRef(({className:o,align:n="center",sideOffset:a=4,...s},t)=>e(ao,{children:e(pe,{ref:t,align:n,sideOffset:a,className:Ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...s})}));ro.displayName=pe.displayName;export{Po as F,yo as P,Co as S,No as a,ro as b};
