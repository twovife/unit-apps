import{W as C,r as t,j as n,a as e,F as I}from"./app-306d2aa1.js";import{C as N}from"./Checkbox-6252612e.js";import{I as F}from"./InputLabel-53a356ec.js";import{L as T}from"./Loading-5d256d83.js";import{B as L}from"./BadgeStatus-498eb197.js";import{B as h}from"./button-5e70ffc6.js";import{D as j,a as B,b as K,c as q,d as f}from"./dialog-03bb592f.js";import{I as O}from"./input-35d260d5.js";import{L as p}from"./index-540c0f7f.js";import{C as b}from"./index.esm-42fc6967.js";import"./transition-b9545d2b.js";import"./badge-b2fc05ce.js";import"./utils-36e2ef84.js";import"./index-11c24e0a.js";import"./index-9beea882.js";import"./react-icons.esm-315302c1.js";import"./index-0fb34254.js";const aa=({show:k=!1,onClosed:u,triggeredData:a,type:s})=>{const{data:r,setData:i,post:v,reset:c,errors:A,processing:x}=C({id:"",kelompok:"",date:"",kasbon:"",transport:"",type:"1"}),[m,E]=t.useState(!1),l=t.useRef(null);t.useEffect(()=>{l.current&&(console.log("asd"),l.current.focus())},[l.current]),t.useEffect(()=>{a&&i({id:a.id,kelompok:a.kelompok,date:a.tanggal,kasbon:a.rekap_status&&a.kasbon>0?a.kasbon:2e5,transport:a.transport,type:s,tunai:s==1?0:a.tunai})},[a]);const y=o=>{i(o.target.name,o.target.type==="checkbox"?o.target.checked:o.target.value)},d=(o,S)=>{i(S,o)},_=()=>{u(),c()},w=o=>{o.preventDefault(),v(route("kasir.rekap.rekap_post"),{onSuccess:()=>{c(),u()}})};return n(j,{open:k,onOpenChange:o=>o?"":_(),children:[e(T,{show:m||x}),e(B,{className:"w-[90vw] h-[90vh] lg:h-auto lg:max-w-xl overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:m?e("div",{children:"Data Sedang Dimuat"}):n(K,{children:[e(q,{children:s==1?"Input Kasbon & Transport":"Cek Tunai Mantri"}),a!=null&&a.status_dayly_approval?e(f,{children:"'Data Sudah DiSetujui Kasid & Pimpinan, Data Pada Tanggal Ini Telah Ditutup'"}):e(f,{children:n("form",{onSubmit:w,children:[n("div",{className:"mb-3",children:[e(p,{htmlFor:"date",children:"Tanggal"}),e(O,{readOnly:!0,name:"date",type:"date",required:!0,onChange:y,value:r.date})]}),n("div",{className:"mb-3",children:[e(p,{htmlFor:"kasbon",children:"Kasbon"}),e(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"kasbon",readOnly:r.status_dayly_approval,allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:d,value:r.kasbon,placeholder:"Inputkan angka tanpa sparator"})]}),n("div",{className:"mb-3",children:[e(p,{htmlFor:"transport",children:"Transport"}),e(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"transport",allowDecimals:!1,ref:l,readOnly:r.status_dayly_approval,prefix:"Rp. ",min:1,required:!0,onValueChange:d,value:r.transport,placeholder:"Inputkan angka tanpa sparator"})]}),(a==null?void 0:a.status_approve_kepala)&&e(L,{className:"mb-3",value:"acc",children:"Kepala Sudah Aprov"}),(a==null?void 0:a.status_approve_kepala)&&s==2&&n(I,{children:[n("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[e(N,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),e(F,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),e("div",{className:"mb-3 text-right",children:e(h,{type:"submit",children:"Submit"})})]}),s==1&&e("div",{className:"mb-3 text-right",children:e(h,{type:"submit",children:"Submit"})})]})})]})})]})};export{aa as default};
