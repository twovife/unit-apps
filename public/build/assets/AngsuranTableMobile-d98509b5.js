import{r as c,j as a,a as e,R as k,c as C}from"./app-1513e6ad.js";import{T as _,a as w,b as o,c as g,d as A,e as r}from"./table-7e5d8dfc.js";import{F as i}from"./FormatNumbering-8f8bff39.js";import{B}from"./button-fa3185df.js";import D from"./Action-23b60756.js";import{B as I}from"./BargeStatus-c0c91ea9.js";import{T as F}from"./TextInput-a52a2d1e.js";import{X as L}from"./x-9cf345df.js";import{c as M}from"./createLucideIcon-0dc67ecd.js";import"./utils-aa679991.js";import"./react-number-format.es-55b240a9.js";import"./dialog-c0b29a8d.js";import"./index-40c8da9e.js";import"./react-icons.esm-5687bae1.js";import"./card-496f5bec.js";import"./badge-2f261dfb.js";import"./BayarAngsuran-43e34fac.js";import"./label-fcb642ac.js";import"./index-f6c8e49c.js";import"./index-fbaf698f.js";import"./input-79bff17c.js";import"./index.esm-a025e82b.js";import"./Checkbox-da7e107c.js";import"./Loading-dd9671cb.js";import"./transition-d80bb77d.js";import"./JenisNasabah-eb71e6a9.js";import"./InputError-ff1ce2b5.js";import"./InputLabel-7e6bf775.js";import"./PrimaryButton-24a1d2b3.js";import"./SelectList-5a93a8d5.js";import"./DeleteAngsuran-27b6ef83.js";import"./DeleteLoan-be1b2074.js";import"./useFrontEndPermission-e97f7be2.js";import"./NoEditOverlay-92680984.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ue=({dateOfWeek:N,datas:h})=>{const[f,b]=c.useState([]),[m,v]=c.useState("");c.useEffect(()=>{if(h){const n=(t=>t.map(s=>({...s,data:s.data.filter(d=>!(d.lunas&&!d.is_paid)&&(!m||d.nama.toLowerCase().includes(m.toLowerCase())))})))(h);b(n)}},[h,m]);const p=(l,n)=>l.reduce((s,d)=>s+parseInt(d[n]??0),0),[y,u]=c.useState(null),[T,x]=c.useState(!1),S=l=>{u(l),x(!0)},j=()=>{x(!1),u(null)};return c.useState([]),a("div",{className:"relative overflow-scroll h-[70vh] lg:h-[85vh] ",children:[a("div",{className:"relative w-full mb-2 lg:w-auto lg:max-w-60",children:[e(F,{type:"text",placeholder:"Cari Nama",value:m,onChange:l=>v(l.target.value),className:"w-full text-xs"}),e(L,{className:"absolute right-0 w-auto h-5 text-gray-400 -translate-x-1/2 -translate-y-1/2 top-1/2",onClick:l=>v("")})]}),a(_,{className:"text-[0.6rem]/tight sm:text-xs/tight",children:[e(w,{className:"sticky top-0 left-0 z-10",children:a(o,{className:"bg-gray-200",children:[e(g,{className:"text-center",children:"Tanggal"}),e(g,{className:"text-center",children:"Nasabah"}),e(g,{className:"text-center border-x border-x-black",children:"Nominal"})]})}),e(A,{children:f?f.map((l,n)=>a(k.Fragment,{children:[e(o,{children:e(r,{colSpan:17+(N.length??0),children:a("div",{className:"flex items-center gap-3",children:[e(I,{value:l.type2})," ",e("div",{children:l.month})]})})}),l.data.map((t,s)=>a(o,{className:`${t.is_paid?"bg-green-200 hover:bg-green-50":""}}`,children:[e(r,{className:"p-1",children:a("div",{className:"space-y-2 text-center",children:[e("div",{children:C(t.tanggal_drop).format("DD-MM")}),e("div",{children:e(B,{size:"xs",variant:t.lunas?"green":t.is_paid?"blue":"default",onClick:()=>S(t.id),children:t.lunas?e(P,{className:"text-xs"}):t.is_paid?"Paid":"Pay"})})]})}),a(r,{className:"p-1",children:[e("div",{className:"font-semibold",children:t.nama}),e("div",{children:t.nik}),e("div",{className:"text-ellipsis overflow-hidden ...",children:t.alamat})]}),a(r,{className:"p-1 border-x border-x-black",children:[a("div",{className:"flex justify-between gap-6",children:[e("div",{children:"P"}),e(i,{value:t.pinjaman})]}),a("div",{className:"flex justify-between gap-6 border-b-2 border-b-black ",children:[e("div",{children:"A"}),a("div",{className:"flex gap-3",children:[e("div",{className:"italic whitespace-nowrap",children:e(i,{value:t.angs_today,prefix:"(",suffix:")"})}),e(i,{value:t.angsuran})]})]}),a("div",{className:"flex justify-between gap-6",children:[e("div",{children:"S"}),e(i,{value:t.saldo})]})]})]},s)),a(o,{className:"bg-gray-100",children:[e(r,{className:"py-3",colSpan:2,children:"TOTAL"}),a(r,{className:"border-x border-x-black",children:[a("div",{className:"flex justify-between gap-6",children:[e("div",{children:"P"}),e(i,{value:p(l.data,"pinjaman")})]}),a("div",{className:"flex justify-between gap-6 border-b-2 border-b-black ",children:[e("div",{children:"A"}),a("div",{className:"flex gap-3",children:[e("div",{className:"italic whitespace-nowrap",children:e(i,{value:p(l.data,"angs_today"),prefix:"(",suffix:")"})}),e(i,{value:p(l.data,"angsuran")})]})]}),a("div",{className:"flex justify-between gap-6",children:[e("div",{children:"S"}),e(i,{value:p(l.data,"saldo")})]})]})]})]},n)):e(o,{children:e(r,{children:"a"})})})]}),e(D,{datas:f,show:T,onClosed:j,triggeredId:y})]})};export{ue as default};
