import{r as f,j as t,a as e,d as c,c as k}from"./app-46702308.js";import{I as m}from"./InputLabel-8c3f05d5.js";import{L as y}from"./LinkButton-a9c59433.js";import{P as w}from"./PrimaryButton-1db30701.js";import{S as C}from"./SelectList-15128e2c.js";import{T as p}from"./TextInput-3064a0ed.js";import{u as S}from"./useServerFilter-83ee4b5d.js";import{M as D}from"./MobileLayout-73a8a16a.js";import{N as L}from"./react-number-format.es-3123ebc9.js";import"./Loading-384dbda5.js";import"./transition-c9987eb0.js";import"./SweetAlert-9ac18bd6.js";import"./createLucideIcon-5c4fd079.js";import"./react-icons.esm-ffbe828b.js";import"./index-456a55a4.js";import"./button-8a24cc1b.js";import"./index-f96983da.js";import"./utils-46f1eee5.js";import"./index-2633d15f.js";import"./index-c1ba9f78.js";import"./index-4eca7b38.js";const W=({data:o,branch:T,server_filters:l,...s})=>{const{serverFilters:i,onServerFilterChange:n,onServerFilterSubmit:h,loading:u,setLoading:M,mantriMantri:N}=S(route().current(),l),b=l.previledge=="mantri"?[{id:1,value:l.kelompok,display:l.kelompok}]:N,[d,g]=f.useState(""),v=()=>o.filter(a=>{const r=d.toLowerCase();return a.nik.toLowerCase().includes(r)||a.nama.toLowerCase().includes(r)||a.id==r}),x=a=>{g(a.target.value)};return t(D,{auth:s.auth,errors:s.errors,header:"Drop Harians",loading:u,children:[t("div",{className:"mb-3",children:[t("div",{className:"w-full",children:[e(m,{htmlFor:"kelompok",value:"Kelompok"}),e(C,{id:"kelompok",type:"text",onChange:n,name:"kelompok",value:i.kelompok,options:b,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),t("div",{className:"mt-3 w-full",children:[e(m,{htmlFor:"date",value:"Tanggal Drop"}),t("div",{className:"flex text-center items-center gap-1",children:[e("div",{className:"flex-1",children:e(p,{id:"date",disabled:!0,type:"date",onChange:n,value:i.date,name:"date",className:"mt-1 block w-full"})}),e(w,{onClick:h,title:"Cari"}),e(y,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]}),e("div",{className:"w-full mt-3",children:e(p,{value:d,onChange:x,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),e("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] border-b-2",children:t("table",{className:"text-sm w-full border",children:[e("thead",{className:"bg-gray-200",children:t("tr",{className:"text-center",children:[e("td",{className:"p-2",children:"Tgl"}),e("td",{className:"p-2",children:"Nasabah"}),e("td",{className:"p-2",children:"Drop"}),e("td",{className:"p-2",children:"Status"}),e("td",{className:"p-2",children:"No. Trans"})]})}),e("tbody",{children:o&&v().map((a,r)=>t("tr",{className:`even:bg-gray-100 text-xs text-center ${a.id==s.id?"bg-green-100":""}`,children:[t("td",{className:"px-2 py-1 text-start",children:[e("div",{className:"font-semibold text-sm"}),t("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[t("span",{className:"capitalize",children:[a.hari,","]}),a.transaction_date?c(a.transaction_date).format("DD-MM-YY"):"","/"]}),e("div",{className:"mb-1 italic font-light",children:t("span",{className:"capitalize",children:["Drop :Â ",a.tanggal_drop?c(a.tanggal_drop).format("DD-MM-YY"):""]})})]}),t("td",{className:"px-2 py-1 text-start",children:[e("div",{className:"mb-1 font-semibold",children:a.nama}),e("div",{className:"mb-1",children:a.nik}),e("div",{className:"mb-1 font-light italic",children:a.alamat})]}),e("td",{className:"px-2 py-1 text-end",children:e(L,{value:a.drop,displayType:"text",thousandSeparator:","})}),e("td",{className:"px-2 py-1 text-center",children:e(k,{className:`${a.status=="acc"?"bg-green-500":a.status=="tolak"?"bg-red-500":"bg-blue-500"} px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded`,href:route("mantriapps.show_drop",a.id),children:a.status})}),e("td",{className:"px-2 py-1",children:e("div",{children:a.id})})]},r))})]})})]})};export{W as default};
