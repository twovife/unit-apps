import{W as g,r as p,j as n,a,F}from"./app-9b0e93ec.js";import{C as L}from"./Checkbox-5cd8cbe2.js";import{I as T}from"./InputLabel-b2f57bcc.js";import{L as q}from"./Loading-b44a4e72.js";import{B}from"./BadgeStatus-fc51a812.js";import{B as k}from"./button-b1d6d48a.js";import{D as j,a as K,b as O,c as R,d as A}from"./dialog-07be4f55.js";import{I as E}from"./input-a3e51fc4.js";import{L as u}from"./index-e9482f8a.js";import{C as d}from"./index.esm-e1bd2687.js";import"./transition-e4deee81.js";import"./badge-c716adb5.js";import"./utils-36e2ef84.js";import"./index-bde2a039.js";import"./index-f7970cca.js";import"./react-icons.esm-d0d83aab.js";import"./index-239c24c6.js";const re=({show:v=!1,onClosed:f,triggeredData:e,type:l})=>{console.log(e);const{data:r,setData:c,post:x,reset:b,errors:V,processing:w}=g({id:"",kelompok:"",date:"",kasbon:"",transport:"",type:"1"}),[h,H]=p.useState(!1),i=p.useRef(null);p.useEffect(()=>{i.current&&i.current.focus()},[i.current]),p.useEffect(()=>{e&&c({id:e.id,kelompok:e.kelompok,date:e.tanggal,kasbon:e.rekap_status&&e.kasbon>0?e.kasbon:2e5,transport:e.transport,type:l,tunai:e.tunai})},[e]);const y=o=>{c(s=>({...s,[o.target.name]:o.target.type==="checkbox"?o.target.checked:o.target.value}))},m=(o,s)=>{let t=e.tunai,N=e.transport,S=e.kasbon;s==="kasbon"?t=t-S+parseInt(o):s==="transport"&&(t=t+N-parseInt(o)),c(_=>({..._,[s]:o,tunai:t}))},C=()=>{f(),b()},I=o=>{o.preventDefault(),x(route("kasir.rekap.rekap_post"),{onSuccess:()=>{b(),f()}})};return n(j,{open:v,onOpenChange:o=>o?"":C(),children:[a(q,{show:h||w}),a(K,{className:"w-[90vw] h-[90vh] lg:h-auto lg:max-w-xl overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:h?a("div",{children:"Data Sedang Dimuat"}):n(O,{children:[a(R,{children:l==1?"Input Kasbon & Transport":"Cek Tunai Mantri"}),a(A,{children:n("form",{onSubmit:I,children:[n("div",{className:"mb-3",children:[a(u,{htmlFor:"date",children:"Tanggal"}),a(E,{readOnly:!0,name:"date",type:"date",required:!0,onChange:y,value:r.date})]}),n("div",{className:"mb-3",children:[a(u,{htmlFor:"kasbon",children:"Kasbon"}),a(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"kasbon",readOnly:r.status_dayly_approval,allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:m,value:r.kasbon,placeholder:"Inputkan angka tanpa sparator"})]}),n("div",{className:"mb-3",children:[a(u,{htmlFor:"transport",children:"Transport"}),a(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"transport",allowDecimals:!1,ref:i,prefix:"Rp. ",min:1,required:!0,onValueChange:m,value:r.transport,placeholder:"Inputkan angka tanpa sparator"})]}),n("div",{className:"mb-3",children:[a(u,{htmlFor:"tunai",children:"Tunai"}),a(d,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"tunai",allowDecimals:!1,readOnly:!0,prefix:"Rp. ",min:1,required:!0,onValueChange:m,value:r.tunai,placeholder:"Inputkan angka tanpa sparator"})]}),(e==null?void 0:e.status_approve_kepala)&&a(B,{className:"mb-3",value:"acc",children:"Kepala Sudah Aprov"}),(e==null?void 0:e.status_approve_kepala)&&l==2&&n(F,{children:[n("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[a(L,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),a(T,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),a("div",{className:"mb-3 text-right",children:a(k,{type:"submit",children:"Submit"})})]}),l==1&&a("div",{className:"mb-3 text-right",children:a(k,{type:"submit",children:"Submit"})})]})})]})})]})};export{re as default};
