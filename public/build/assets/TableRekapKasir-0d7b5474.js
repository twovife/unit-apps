import{r as n,q as N,j as f,a,c as R,F as S,R as j}from"./app-69ddc6c8.js";import{T as F,a as M,b as i,c as p,d as O,e as h,f as B}from"./table-c8fd1426.js";import{u as H,f as u,g as E}from"./index-afa0707c.js";import{F as o}from"./FormatNumbering-2e08f5fa.js";import{B as g}from"./BargeStatus-415be01e.js";import"./button-e3ab8636.js";import"./utils-36e2ef84.js";import"./react-number-format.es-f06fd886.js";const U=({setOnShowModal:b,setTriggeredData:v,setTriggeredType:w,datas:d})=>{const[m,y]=n.useState([]),{auth:T}=N().props;n.useEffect(()=>{y(d)},[d]);const s=(e=>e.reduce((t,r)=>(Object.keys(r).forEach(l=>{t[l]=(t[l]||0)+(r[l]||0)}),t),{}))(m),x=(e,t)=>{b(!0),v(e),w(t)},C=n.useMemo(()=>[{header:"",accessorKey:"kelompok",cell:({getValue:e,cell:t})=>f("div",{className:"flex items-center justify-center gap-3",children:[a("div",{children:t.row.original.type=="daily"?e():R(t.row.original.tanggal).format("DD-MM")}),T.permissions.includes("can update")&&a(g,{onClick:()=>x(t.row.original,1),children:"Input"})]})},{header:"Kasbon",accessorKey:"kasbon",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.kasbon})},{header:"Storting",accessorKey:"storting",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.storting})},{header:"DO11%",accessorKey:"do11",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.do11})},{header:"Deb",accessorKey:"debit",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.debit})},{header:"Drop",accessorKey:"drop",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.drop})},{header:"Transport",accessorKey:"transport",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.transport})},{header:"Kre",accessorKey:"kredit",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.kredit})},{header:"Tunai",accessorKey:"tunai",cell:({getValue:e})=>a(o,{value:e()}),footer:e=>a(o,{value:s.tunai})}],[s]),c=H({data:m,columns:C,getCoreRowModel:E(),debugTable:!0}),[q,D]=n.useState(!1),[z,K]=n.useState(),k=e=>{D(!0),K(e)};return a(S,{children:f(F,{className:"w-full mb-3 table-auto",children:[a(M,{className:"sticky top-0 z-10 bg-gray-100",children:c.getHeaderGroups().map((e,t)=>a(i,{children:e.headers.map((r,l)=>a(p,{className:"text-center",children:u(r.column.columnDef.header,r.getContext())},l))},t))}),a(O,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((e,t)=>a(j.Fragment,{children:a(i,{className:"text-center",children:e.getVisibleCells().map(r=>a(h,{className:`${r.column.columnDef.className}`,children:r.column.columnDef.type=="show"?a("div",{className:"flex items-center justify-center gap-2",children:a(g,{value:r.row.original.status,onClick:()=>k(r.row.original)})}):u(r.column.columnDef.cell,r.getContext())},r.id))},t)},t)):a(i,{children:a(h,{colSpan:"4",children:"Belum Ada Catatan Pinjaman"})})}),a(B,{children:c.getFooterGroups().map(e=>a(i,{children:e.headers.map(t=>a(p,{className:"text-center text-black bg-gray-100",children:u(t.column.columnDef.footer,t.getContext())},t.id))},e.id))})]})})};export{U as default};
