import{W as R,r as u,j as r,a}from"./app-bbbb9813.js";import{C as N,a as w,b as _,d as j}from"./card-b1f77b5f.js";import{L as v}from"./label-d990cf67.js";import{I}from"./input-47a21bcf.js";import{C as S}from"./index.esm-89937cb9.js";import{C as A}from"./Checkbox-d493c0d7.js";import{B as t}from"./button-980248e4.js";import{L as D}from"./Loading-c4649ed5.js";import"./utils-46f1eee5.js";import"./index-0f3ff2b4.js";import"./index-463fef4e.js";import"./index-f96983da.js";import"./transition-07aaf9e3.js";const Q=({triggeredId:d,triggeredPinjaman:L,instalment:s})=>{const{data:l,setData:o,post:h,errors:B,processing:f,reset:x,recentlySuccessful:C}=R({type_transaksi:"bayar",transaction_date:"",nominal:0,id:""});u.useEffect(()=>{o("id",d)},[d,C]);const g=(e,i)=>{o(i,e)},m=e=>{o(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},n=e=>{const i=e.target.getAttribute("data-value");o("nominal",i)},p=e=>{const i=parseInt(l.nominal),c=parseInt(e.target.getAttribute("data-value"));o("nominal",c+i)},y=e=>{e.preventDefault(),h(route("pinjaman.bayar_pinjaman",l.id),{preserveScroll:!0,onSuccess:()=>{x("transaction_date","nominal")}})},[b,k]=u.useState(0);return u.useEffect(()=>{var i;const e=((i=s==null?void 0:s.sort((c,z)=>c.saldo-z.saldo)[0])==null?void 0:i.saldo)??0;k(e)},[s]),r(N,{className:"relative w-full mb-3",children:[a(D,{show:f}),a(w,{children:a(_,{children:"Isi Angsuran"})}),a(j,{children:r("form",{onSubmit:y,children:[r("div",{className:"mb-3",children:[a(v,{htmlFor:"transaction_date",children:"Tanggal Pembayaran"}),a(I,{type:"date",name:"transaction_date",id:"transaction_date",className:"w-full",value:l.transaction_date,onChange:m})]}),r("div",{className:"mb-3",children:[a(v,{htmlFor:"nominal",children:"Nominal"}),a(S,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"nominal",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:g,value:l.nominal,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"flex flex-wrap gap-3",children:[a(t,{type:"button",variant:"outline",size:"xs",onClick:p,"data-value":5e3,children:"+5 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:p,"data-value":1e4,children:"+10 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":5e4,children:"50 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":52e3,children:"52 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":6e4,children:"60 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":65e3,children:"65 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":1e5,children:"100 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":13e4,children:"130 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":195e3,children:"195 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":26e4,children:"260 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":39e4,children:"390 Rb"}),a(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":b,children:b})]}),r("div",{className:"flex items-center justify-between mt-6",children:[r("label",{className:"flex items-center",children:[a(A,{name:"danatitipan",value:l.danatitipan,onChange:m}),a("span",{className:"ml-2 text-sm text-gray-600",children:"Dana Titipan?"})]}),a(t,{type:"submit",children:"Submit"})]})]})})]})};export{Q as default};
