import{q as R,r as s,j as h,a,d as _,F as j,R as M}from"./app-dd703d36.js";import{F as l,T as F,a as k,b as i,c as f,d as O,e as w,f as A}from"./FormatNumbering-a1b5b3e8.js";import{u as B,f as d,g as H}from"./index-abe25797.js";import{B as c}from"./BargeStatus-e7a3ab7d.js";import"./button-0531b15f.js";import"./utils-46f1eee5.js";import"./react-number-format.es-187c3d75.js";import"./index-f96983da.js";const Q=({setOnShowModal:b,setTriggeredData:y,setTriggeredType:v,datas:m})=>{const{auth:C}=R().props,[p,T]=s.useState([]);s.useEffect(()=>{T(m)},[m]);const u=(t=>t.reduce((e,o)=>(Object.keys(o).forEach(r=>{e[r]=(e[r]||0)+(o[r]||0)}),e),{}))(p),g=(t,e)=>{b(!0),y(t),v(e)},x=s.useMemo(()=>[{header:"",accessorKey:"kelompok",cell:({getValue:t,cell:e})=>h("div",{className:"flex items-center justify-center gap-3",children:[a("div",{children:e.row.original.type=="daily"?t():_(e.row.original.tanggal).format("DD-MM")}),C.permissions.includes("can update")&&a(c,{onClick:()=>g(e.row.original,2),value:e.row.original.status_dayly_approval,children:e.row.original.status_dayly_approval?"Approved":"Open"}),a(c,{onClick:()=>g(e.row.original,2),value:e.row.original.status_dayly_approval,children:e.row.original.status_dayly_approval?"Approved":"Open"})]})},{header:"Titipan 9%",accessorKey:"titipan9",cell:({getValue:t})=>a(l,{value:t()}),footer:t=>a(l,{value:u.titipan9})},{header:"Tunai",accessorKey:"tunai",cell:({getValue:t})=>a(l,{value:t()}),footer:t=>a(l,{value:u.storting})},{header:"Status",accessorKey:"is_balance",cell:({getValue:t})=>a(c,{value:t()})}],[u]),n=B({data:p,columns:x,getCoreRowModel:H(),debugTable:!0}),[E,D]=s.useState(!1),[q,N]=s.useState(),S=t=>{D(!0),N(t)};return a(j,{children:h(F,{className:"w-full mb-3 table-auto",children:[a(k,{className:"sticky top-0 z-10 bg-gray-100",children:n.getHeaderGroups().map((t,e)=>a(i,{children:t.headers.map((o,r)=>a(f,{className:"text-center",children:d(o.column.columnDef.header,o.getContext())},r))},e))}),a(O,{children:n.getRowModel().rows.length?n.getRowModel().rows.map((t,e)=>a(M.Fragment,{children:a(i,{className:"text-center",children:t.getVisibleCells().map(o=>a(w,{className:`${o.column.columnDef.className}`,children:o.column.columnDef.type=="show"?a("div",{className:"flex items-center justify-center gap-2",children:a(c,{value:o.row.original.status,onClick:()=>S(o.row.original)})}):d(o.column.columnDef.cell,o.getContext())},o.id))},e)},e)):a(i,{children:a(w,{colSpan:"4",children:"Belum Ada Catatan Pinjaman"})})}),a(A,{children:n.getFooterGroups().map(t=>a(i,{children:t.headers.map(e=>a(f,{className:"text-center text-black bg-gray-100",children:d(e.column.columnDef.footer,e.getContext())},e.id))},t.id))})]})})};export{Q as default};
