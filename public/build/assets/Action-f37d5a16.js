import{q as _,r as i,a as e,F as o,j as s,e as w}from"./app-894fb644.js";import{D as y,a as A,b as C,c as P}from"./dialog-a5dfac83.js";import{C as c,a as m,b as u,d as p}from"./card-e75d9471.js";import"./tabs-72060df1.js";import"./FormatNumbering-1c98251f.js";import"./button-9da4f797.js";import"./Loading-b2556a0b.js";import"./label-b28b47d1.js";import"./index.esm-481f5ba8.js";import T from"./DropJadi-dd749eb1.js";import E from"./Gagal-0520d9e7.js";import R from"./DetailTableOnAction-52d9476e.js";import H from"./RemoveLoan-b0eb124c.js";import J from"./ReStatus-fb9a4142.js";import M from"./ChangeDetail-ccd928f9.js";import{B as g}from"./badge-9ff1b0cb.js";import"./index-b8da1699.js";import"./react-icons.esm-bacaa70f.js";import"./index-1ee04d40.js";import"./utils-46f1eee5.js";import"./index-b32be6a7.js";import"./react-number-format.es-fde60237.js";import"./index-f96983da.js";import"./transition-dd2a41ee.js";import"./index-b4346aa2.js";import"./SelectList-b22ee93b.js";import"./input-0ac0cdb0.js";const ua=({show:b=!1,onClosed:r,triggeredData:n})=>{const{auth:k}=_().props,[a,x]=i.useState([]),[O,h]=i.useState([]),[q,j]=i.useState(),[N,l]=i.useState(!1),[v,d]=i.useState(!1);i.useEffect(()=>{x(n),j(n==null?void 0:n.request)},[n]);const S=async f=>{l(!0),d(),await w({method:"post",url:route("transaction.nasabah_buku_transaksi"),data:{nik:n.nik}}).then(function({data:t}){l(!1),t.falidate_nik?h(t.data):h([])}).catch(function({response:t}){d(t.data.message),l(!1)})};return i.useEffect(()=>{n!=null&&n.nik&&S()},[n]),e(o,{children:e(y,{open:b,onOpenChange:f=>f?"":r(),children:s(A,{className:"w-[90vw] h-[90vh] lg:h-auto overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin p-2",children:[v&&e("div",{children:"terjadi kesalahan saat memuat data"}),N?e("div",{children:"Data Sedang Dimuat"}):s(o,{children:[e(C,{children:e(P,{children:"Check Transaksi Mantri"})}),s(c,{children:[e(m,{children:e(u,{children:"Detail Pengajuan"})}),e(p,{className:"p-1 space-y-2",children:e("div",{className:"overflow-auto border rounded-lg scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:e(R,{datas:a})})})]}),s("div",{className:"flex flex-col gap-3 mt-3 lg:flex-row",children:[s(c,{className:"w-full",children:[e(m,{children:e(u,{children:"ACC / DROP"})}),s(p,{className:"space-y-2",children:[e("div",{className:"flex items-end justify-center gap-2 mx-auto mb-3",children:(a==null?void 0:a.status)!=="open"&&s(g,{size:"lg",variant:"green",children:["Status Pengajuan = ",a==null?void 0:a.status,", Pada Tanggal",a==null?void 0:a.check_date]})}),(a==null?void 0:a.status)!=="open"&&e("div",{className:"flex items-end justify-center gap-2 mx-auto",children:(a==null?void 0:a.status)==="acc"?s(o,{children:[e(T,{id:a==null?void 0:a.nomor_pengajuan,drop_jadi:a==null?void 0:a.acc,onClosed:r}),e(E,{id:a==null?void 0:a.nomor_pengajuan,onClosed:r})]}):s(g,{size:"lg",variant:"green",children:["Status Pengajuan = ",a==null?void 0:a.status,", Tanggal"," ",a==null?void 0:a.check_date]})})]})]}),k.permissions.includes("unit pimpinan")&&s(c,{className:"w-full",children:[e(m,{children:e(u,{children:"Admin Edit"})}),e(p,{className:"space-y-2",children:s("div",{children:[s("div",{className:"w-full mb-3 text-start",children:[e("p",{className:"font-semibold",children:"Hapus Pengajuan"}),e("p",{className:"mb-1 text-xs italic font-light text-gray-500",children:"Jika Pengajuan Sudah Memiliki Angsuran maka akan terhapus semua"}),e(H,{triggeredId:a==null?void 0:a.nomor_pengajuan,onClosed:r})]}),(a==null?void 0:a.drop_langsung)=="lama"&&s("div",{className:"w-full mb-3 text-start",children:[e("p",{className:"font-semibold ",children:"Restatus"}),e("p",{className:"mb-1 text-xs italic font-light text-gray-500",children:"Jika Pengajuan Sudah Memiliki Angsuran maka akan terhapus semua"}),e(J,{triggeredId:a==null?void 0:a.nomor_pengajuan,onClosed:r})]}),a&&e(M,{onClosed:r,triggeredData:n})]})})]})]})]})]})})})};export{ua as default};
