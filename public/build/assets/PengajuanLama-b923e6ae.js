import{G as z,d as x,r as u,a as e,j as o}from"./app-b00eb01f.js";import{I as c}from"./InputError-87185630.js";import{L as N}from"./Loading-52feadd6.js";import{B as t}from"./button-f4666437.js";import{I as _}from"./input-1f7c6b8e.js";import{L as m}from"./label-0e9fb9b5.js";import{C as A}from"./index.esm-15e423d5.js";import"./transition-82b53ea1.js";import"./index-0f3ecbcf.js";import"./utils-3f044a58.js";import"./index-afb1a50b.js";import"./index-ac893a70.js";const R=({isActive:p,triggeredId:i,triggeredPinjaman:I})=>{const{data:r,setData:l,errors:d,post:y,processing:g,reset:C}=z({request_date:x().format("YYYY-MM-DD"),tanggal_drop:"",request_nominal:0,type:"pengajuan"}),[q,f]=u.useState(),[j,k]=u.useState();u.useEffect(()=>{k(r.request_date),l(a=>({...a,tanggal_drop:x(r.request_date).add(1,"week").format("YYYY-MM-DD")}))},[r.request_date]);const w=a=>{f(!!a)},v=a=>{const{name:s,value:h}=a.target;l(s,h)},D=(a,s,h)=>{l(s,a)},n=a=>{const s=a.target.getAttribute("data-value");l("request_nominal",s)},b=async()=>{try{const a=await axios.get(route("pinjaman.checkpengajuan",i));console.log({response:a.data.data}),w(a.data.data.loan_out_status)}catch(a){console.log(a)}};u.useEffect(()=>{p&&i&&b()},[p,i]);const Y=a=>{a.preventDefault(),y(route("pinjaman.store_pengajuan_lama",i),{onSuccess:()=>{C(),b()}})};return e("div",{children:q?e("div",{children:"Ada Pengajuan"}):o("div",{children:[e(N,{show:g}),o("div",{className:"w-full mb-3",children:[e(m,{children:"Tanggal Pengajuan"}),e(_,{type:"date",name:"request_date",required:!0,value:r.request_date,onChange:v}),e(c,{message:d.request_date})]}),o("div",{className:"w-full mb-3",children:[e(m,{children:"Tanggal Drop"}),e(_,{type:"date",name:"tanggal_drop",min:j,required:!0,value:r.tanggal_drop,onChange:v}),e(c,{message:d.tanggal_drop})]}),o("div",{className:"w-full mb-3",children:[e(m,{children:"Nominal Pinjaman"}),e(A,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"request_nominal",defaultValue:0,allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:D,value:r.request_nominal,placeholder:"Inputkan angka tanpa sparator"}),e(c,{message:d.request_nominal})]}),o("div",{className:"flex flex-wrap w-full gap-2 mb-3",children:[e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"400000",children:"400rb"}),e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"500000",children:"500rb"}),e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"700000",children:"700rb"}),e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"800000",children:"800rb"}),e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"1000000",children:"1 Jt"}),e(t,{type:"button",variant:"outline",size:"xs",onClick:n,"data-value":"1500000",children:"1,5 Jt"}),e(t,{type:"button",variant:"destructive",size:"xs",onClick:n,"data-value":"0",children:"reset"})]}),e("div",{className:"text-end",children:e(t,{type:"submit",onClick:Y,disabled:g,children:"Submit"})})]})})};export{R as default};
