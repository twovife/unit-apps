import{G as S,r as p,j as s}from"./app-DuzmJzG5.js";import{C as g}from"./Checkbox-Cxy4Nlyp.js";import{I}from"./InputLabel-DMRhp5FU.js";import{L as F}from"./Loading-FsZRitNe.js";import{B as T}from"./BadgeStatus-zele2u3_.js";import{B as h}from"./button-DgpYC7Iq.js";import{D as _,a as K,b as L,c as B,d as R}from"./dialog-BN--cpdy.js";import{I as q}from"./input-ClyUITpW.js";import{L as c}from"./index-BmrRPkXW.js";import{C as u}from"./index.esm-BA72Pe76.js";import"./index-DgjDxMvC.js";import"./transition-CGjDgPnX.js";import"./badge-BEAfIbVU.js";import"./utils-CytzSlOG.js";import"./index-D170Lnh-.js";import"./index-B45iwrV4.js";import"./index-c8U_8E7n.js";import"./Combination-CDYWwq0y.js";import"./index-DCJTlnTr.js";import"./react-icons.esm-RoM_tb9M.js";const os=({show:x=!1,onClosed:m,triggeredData:a,type:r})=>{const{data:t,setData:l,post:k,reset:d,processing:j}=S({id:"",kelompok:"",date:"",kasbon:"",transport:"",type:"1",tunai:""}),[f,E]=p.useState(!1),i=p.useRef(null);p.useEffect(()=>{i.current&&i.current.focus()},[i.current]),p.useEffect(()=>{a&&l({id:a.id,kelompok:a.kelompok,date:a.tanggal,kasbon:a.kasbon,transport:a.transport,type:r,tunai:a.tunai})},[a]);const v=e=>{l(o=>({...o,[e.target.name]:e.target.type==="checkbox"?e.target.checked:e.target.value}))},w=e=>{const o=e;l(n=>({...n,kasbon:o,tunai:b(o,n.transport)}))},y=e=>{const o=e;l(n=>({...n,transport:o,tunai:b(n.kasbon,o)}))},b=(e,o)=>{const n=a.tunai-a.kasbon+a.transport;return console.log(n),console.log(a.tunai,a.kasbon,a.transport),parseFloat(n)+parseFloat(e)-parseFloat(o)},C=()=>{m(),d()},N=e=>{e.preventDefault(),k(route("kasir.rekap.rekap_post"),{onSuccess:()=>{d(),m()}})};return s.jsxs(_,{open:x,onOpenChange:e=>e?"":C(),children:[s.jsx(F,{show:f||j}),s.jsx(K,{className:"w-[90vw] h-[90vh] lg:h-auto lg:max-w-xl overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:f?s.jsx("div",{children:"Data Sedang Dimuat"}):s.jsxs(L,{children:[s.jsx(B,{children:r==1?"Input Kasbon & Transport":"Cek Tunai Mantri"}),s.jsx(R,{children:s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(c,{htmlFor:"date",children:"Tanggal"}),s.jsx(q,{readOnly:!0,name:"date",type:"date",required:!0,onChange:v,value:t.date})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(c,{htmlFor:"kasbon",children:"Kasbon"}),s.jsx(u,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"kasbon",allowDecimals:!1,ref:i,prefix:"Rp. ",min:1,required:!0,onValueChange:w,value:t.kasbon,placeholder:"Inputkan angka tanpa sparator"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(c,{htmlFor:"transport",children:"Transport"}),s.jsx(u,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"transport",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:y,value:t.transport,placeholder:"Inputkan angka tanpa sparator"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(c,{htmlFor:"tunai",children:"Tunai"}),s.jsx(u,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"tunai",allowDecimals:!1,readOnly:!0,prefix:"Rp. ",min:1,value:t.tunai,placeholder:"Inputkan angka tanpa sparator"})]}),(a==null?void 0:a.status_approve_kepala)&&s.jsx(T,{className:"mb-3",value:"acc",children:"Kepala Sudah Aprov"}),(a==null?void 0:a.status_approve_kepala)&&r==2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[s.jsx(g,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),s.jsx(I,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),s.jsx("div",{className:"mb-3 text-right",children:s.jsx(h,{type:"submit",children:"Submit"})})]}),r==1&&s.jsx("div",{className:"mb-3 text-right",children:s.jsx(h,{type:"submit",children:"Submit"})})]})})]})})]})};export{os as default};
