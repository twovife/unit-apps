import{c as _e}from"./createLucideIcon-6426f9be.js";import{q as Oe,r as l,W as Se,c as U,j as d,F as I,a as r,y as Ee}from"./app-89964f60.js";import{u as ke,S as N}from"./SelectComponent-60d39519.js";import{B as Z}from"./button-662018a0.js";import{I as J}from"./input-dda9d482.js";import{M as xe,R as Fe}from"./react-icons.esm-f5117589.js";import{L as De}from"./Loading-ceec09d3.js";import{L as g}from"./label-e1be8c98.js";import{c as Ie,a as S,P as Q}from"./index-4f223c39.js";import{c as Me,u as X,P as ee}from"./index-ea477c8f.js";import{e as oe,A as te,R as Te,g as We,F as je,D as Le,C as Ye,i as Be,j as Ve,P as He}from"./Combination-ef9df234.js";import{h as Ge,e as $e,d as Ke}from"./index-07e776c0.js";import{c as qe}from"./utils-aa679991.js";/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_o=({urlLink:e=route("home"),localState:n,searchDate:o=!1,labelDate:a="Date",searchMonth:t=!1,labelMonth:s="Bulan",searchPlanText:i=!1,planTextName:c="search",searchHari:p=!1,searchWilayah:f=!1,searchGroupingBranch:y=!1,searchBranch:R=!1,searchKelompok:m=!1,children:A,nexOrPrevious:_=null,setNexOrPrevious:me})=>{const{selectedSearchParam:j,optWilayah:L,optBranch:ve,selectedWilayah:Y,setSelectedWilayah:ge,filteredBranch:Pe,optKelompok:Ce,dayOpt:we}=ke(),{server_filter:{hari:B,branch_id:V,month:H,date:G,wilayah:$,kelompok:K}}=Oe().props,k=l.useRef(null),{data:C,setData:v,get:ye,processing:x}=Se({}),[Re,F]=l.useState(!1),w=u=>{const{name:h,value:O}=u.target;i?h==c?v(D=>{const q={[h]:O};for(const z in D)z!==h&&(q[z]="");return q}):v(D=>({...D,[h]:O,[c]:""})):isNaN(O)?v(h,O):v(h,parseInt(O))},Ne=u=>{const{value:h}=u.target;ge(h),v({branch_id:""})},be=u=>{u.preventDefault(),ye(e)},Ae=u=>{u.preventDefault(),Ee.visit(e,{onStart:h=>F(!0),onFinish:h=>F(!1)}),localStorage.setItem(n,JSON.stringify({oldFilter:[],oldPage:1}))};return l.useEffect(()=>{const u={};j?u[c]=j:(V&&(u.branch_id=parseInt(V)),G&&(u.date=G),H&&(u.month=H),$&&(u.wilayah=parseInt($)),K&&(u.kelompok=parseInt(K)),B&&(u.hari=B)),Object.keys(u).length>0&&v(u)},[]),l.useEffect(()=>{F(x)},[x]),l.useEffect(()=>(_&&(_=="next"?(v(u=>({...u,date:U(u.date).add(1,"week").format("YYYY-MM-DD")})),setTimeout(()=>{k.current.click()},500)):_=="previous"&&(v(u=>({...u,date:U(u.date).subtract(1,"week").format("YYYY-MM-DD")})),setTimeout(()=>{k.current.click()},500))),()=>{_&&me(null)}),[_]),d(I,{children:[r(De,{show:x||Re}),d("form",{className:"flex flex-col items-end w-full gap-3 lg:w-auto lg:flex-row",onSubmit:be,children:[o&&d("div",{className:"w-full",children:[r(g,{children:a}),r(J,{className:"w-full",type:"date",name:"date",value:C.date,onChange:w,placeholder:"Name of your project"})]}),t&&d("div",{className:"w-full",children:[r(g,{children:s}),r(J,{className:"w-full",type:"month",name:"month",value:C.month,onChange:w,placeholder:"Name of your project"})]}),m&&d("div",{className:"w-full",children:[r(g,{children:"Kelompok"}),r(N,{className:"w-full",value:C.kelompok,options:Ce,name:"kelompok",onChange:w})]}),f&&d("div",{className:"w-full",children:[r(g,{children:"Wilayah"}),r(N,{className:"w-full",value:C.wilayah,options:L,name:"wilayah",onChange:w})]}),R&&d("div",{className:"w-full",children:[r(g,{children:"Unit"}),r(N,{className:"w-full",value:C.branch_id,options:ve,name:"branch_id",onChange:w})]}),p&&d("div",{className:"w-full",children:[r(g,{children:"Hari"}),r(N,{className:"w-full",value:C.hari,options:we,name:"hari",onChange:w})]}),y&&d(I,{children:[d("div",{className:"w-full",children:[r(g,{children:"Wilayah"}),r(N,{className:"w-full",required:"true",value:Y,options:L,name:"wilayah",onChange:Ne})]}),Y!==""&&d("div",{className:"w-full",children:[r(g,{children:"Unit"}),r(N,{required:"true",className:"w-full",value:C.branch_id,options:Pe,name:"branch_id",nullvalue:!0,onChange:w})]})]}),d("div",{className:"flex items-center justify-end col-span-2 gap-3",children:[d(Z,{ref:k,variant:"outline",type:"submit",children:[r(xe,{className:"h-3.5 w-3.5"}),r("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Cari"})]}),d(Z,{variant:"outline",type:"button",onClick:Ae,children:[r(Fe,{}),r("span",{className:"sr-only sm:not-sr-only sm:whitespace-nowrap",children:"Reset"})]}),A]})]})]})};var re=l.forwardRef((e,n)=>{const{children:o,...a}=e,t=l.Children.toArray(o),s=t.find(Ue);if(s){const i=s.props.children,c=t.map(p=>p===s?l.Children.count(i)>1?l.Children.only(null):l.isValidElement(i)?i.props.children:null:p);return r(M,{...a,ref:n,children:l.isValidElement(i)?l.cloneElement(i,void 0,c):null})}return r(M,{...a,ref:n,children:o})});re.displayName="Slot";var M=l.forwardRef((e,n)=>{const{children:o,...a}=e;if(l.isValidElement(o)){const t=Je(o);return l.cloneElement(o,{...Ze(a,o.props),ref:n?Me(n,t):t})}return l.Children.count(o)>1?l.Children.only(null):null});M.displayName="SlotClone";var ze=({children:e})=>r(I,{children:e});function Ue(e){return l.isValidElement(e)&&e.type===ze}function Ze(e,n){const o={...n};for(const a in n){const t=e[a],s=n[a];/^on[A-Z]/.test(a)?t&&s?o[a]=(...c)=>{s(...c),t(...c)}:t&&(o[a]=t):a==="style"?o[a]={...t,...s}:a==="className"&&(o[a]=[t,s].filter(Boolean).join(" "))}return{...e,...o}}function Je(e){var a,t;let n=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,o=n&&"isReactWarning"in n&&n.isReactWarning;return o?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var T="Popover",[ne,Oo]=Ie(T,[oe]),E=oe(),[Qe,P]=ne(T),ae=e=>{const{__scopePopover:n,children:o,open:a,defaultOpen:t,onOpenChange:s,modal:i=!1}=e,c=E(n),p=l.useRef(null),[f,y]=l.useState(!1),[R=!1,m]=$e({prop:a,defaultProp:t,onChange:s});return r(Ve,{...c,children:r(Qe,{scope:n,contentId:Ke(),triggerRef:p,open:R,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(A=>!A),[m]),hasCustomAnchor:f,onCustomAnchorAdd:l.useCallback(()=>y(!0),[]),onCustomAnchorRemove:l.useCallback(()=>y(!1),[]),modal:i,children:o})})};ae.displayName=T;var se="PopoverAnchor",Xe=l.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,t=P(se,o),s=E(o),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=t;return l.useEffect(()=>(i(),()=>c()),[i,c]),r(te,{...s,...a,ref:n})});Xe.displayName=se;var le="PopoverTrigger",ie=l.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,t=P(le,o),s=E(o),i=X(n,t.triggerRef),c=r(ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":fe(t.open),...a,ref:i,onClick:S(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?c:r(te,{asChild:!0,...s,children:c})});ie.displayName=le;var W="PopoverPortal",[eo,oo]=ne(W,{forceMount:void 0}),ce=e=>{const{__scopePopover:n,forceMount:o,children:a,container:t}=e,s=P(W,n);return r(eo,{scope:n,forceMount:o,children:r(Q,{present:o||s.open,children:r(He,{asChild:!0,container:t,children:a})})})};ce.displayName=W;var b="PopoverContent",ue=l.forwardRef((e,n)=>{const o=oo(b,e.__scopePopover),{forceMount:a=o.forceMount,...t}=e,s=P(b,e.__scopePopover);return r(Q,{present:a||s.open,children:s.modal?r(to,{...t,ref:n}):r(ro,{...t,ref:n})})});ue.displayName=b;var to=l.forwardRef((e,n)=>{const o=P(b,e.__scopePopover),a=l.useRef(null),t=X(n,a),s=l.useRef(!1);return l.useEffect(()=>{const i=a.current;if(i)return Ge(i)},[]),r(Te,{as:re,allowPinchZoom:!0,children:r(de,{...e,ref:t,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),s.current||(c=o.triggerRef.current)==null||c.focus()}),onPointerDownOutside:S(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0,f=c.button===2||p;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:S(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),ro=l.forwardRef((e,n)=>{const o=P(b,e.__scopePopover),a=l.useRef(!1),t=l.useRef(!1);return r(de,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(a.current||(c=o.triggerRef.current)==null||c.focus(),s.preventDefault()),a.current=!1,t.current=!1},onInteractOutside:s=>{var p,f;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=s.target;((f=o.triggerRef.current)==null?void 0:f.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),de=l.forwardRef((e,n)=>{const{__scopePopover:o,trapFocus:a,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:y,...R}=e,m=P(b,o),A=E(o);return We(),r(je,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:t,onUnmountAutoFocus:s,children:r(Le,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:y,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:f,onDismiss:()=>m.onOpenChange(!1),children:r(Ye,{"data-state":fe(m.open),role:"dialog",id:m.contentId,...A,...R,ref:n,style:{...R.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pe="PopoverClose",no=l.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,t=P(pe,o);return r(ee.button,{type:"button",...a,ref:n,onClick:S(e.onClick,()=>t.onOpenChange(!1))})});no.displayName=pe;var ao="PopoverArrow",so=l.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,t=E(o);return r(Be,{...t,...a,ref:n})});so.displayName=ao;function fe(e){return e?"open":"closed"}var lo=ae,io=ie,co=ce,he=ue;const So=lo,Eo=io,uo=l.forwardRef(({className:e,align:n="center",sideOffset:o=4,...a},t)=>r(co,{children:r(he,{ref:t,align:n,sideOffset:o,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));uo.displayName=he.displayName;export{Ao as F,So as P,_o as S,Eo as a,uo as b};
