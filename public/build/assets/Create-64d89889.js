import{r as l,a as e,j as t,F as S,d as C,e as I}from"./app-c7d29235.js";import{I as w}from"./InputError-fc4ddb1a.js";import{I as F}from"./InputLabel-ad0c9503.js";import{P as L}from"./PrimaryButton-003a3d81.js";import{T}from"./TextInput-84103867.js";import{M as j}from"./MobileLayout-98566d3b.js";import{N as M}from"./react-number-format.es-6c9c83b4.js";import B from"./OldCustomer-8781017c.js";import E from"./NewCustomer-a6ac42ce.js";import{u as _}from"./useServerFilter-f328385a.js";import{L as q}from"./LinkButton-c0933559.js";import"./Loading-8a8df5e0.js";import"./transition-b54eac99.js";import"./SweetAlert-ad8bcfbc.js";import"./createLucideIcon-2cd07ea0.js";import"./react-icons.esm-6c6b48e1.js";import"./index-9c0c1681.js";import"./button-053d499f.js";import"./index-f96983da.js";import"./utils-46f1eee5.js";import"./index-eee63b1a.js";import"./index-eb2abec8.js";import"./index-66747e73.js";import"./SelectList-a991e93c.js";import"./index.esm-6da2a79e.js";const me=({max_date:u,min_date:h,...n})=>{var x,v;const{emps:A,kolompokMantri:N}=_(null,null,null,n.mantri),[y,s]=l.useState(!1),[b,f]=l.useState(),[r,d]=l.useState(),[o,k]=l.useState(),[c,p]=l.useState(),g=a=>{const i=document.getElementById("nik").value;s(!0),f(),d(),p(),I({method:"post",url:route("transaction.getnik"),data:{nik:i}}).then(function({data:m}){d(m.data),k(m.reqistered_customer),p(i),s(!1)}).catch(function({response:m}){f(m.data.message),d(),p(),s(!1)})};return e(j,{auth:n.auth,errors:n.errors,header:"Buku Transaksi",loading:y,children:t(S,{children:[t("div",{className:"mb-3",children:[e(F,{htmlFor:"nik",value:"Input Nik Customer"}),t("div",{className:"flex items-center justify-start w-full gap-3",children:[e("div",{className:"w-full",children:e(T,{id:"nik",type:"text",name:"nik",required:!0,className:"block w-full mt-1",autoComplete:"nik"})}),e(L,{title:"Cari",as:"button",type:"button",onClick:g}),e(q,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]}),e(w,{message:b,className:"mt-2"})]}),r&&t("div",{className:"mb-3",children:[t("div",{className:"mb-3",children:[t("div",{className:"flex",children:[e("div",{className:"flex-[3]",children:"Nama Nasabah"}),e("div",{className:"flex-1",children:":"}),e("div",{className:"flex-[5]",children:(x=r==null?void 0:r[0])==null?void 0:x.customer_name})]}),t("div",{className:"flex mb-3",children:[e("div",{className:"flex-[3]",children:"NIK"}),e("div",{className:"flex-1",children:":"}),e("div",{className:"flex-[5]",children:(v=r==null?void 0:r[0])==null?void 0:v.nik})]})]}),e("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] border-b-2",children:t("table",{className:"w-full text-sm border",children:[e("thead",{className:"bg-gray-200",children:t("tr",{children:[e("td",{className:"px-2 py-1",children:"Tgl Drop"}),e("td",{className:"px-2 py-1",children:"Total Drop"}),e("td",{className:"px-2 py-1",children:"Lunas"}),e("td",{className:"px-2 py-1",children:"Status"})]})}),t("tbody",{children:[r&&r.map((a,i)=>t("tr",{className:"even:bg-gray-100",children:[e("td",{className:"px-2 py-1",children:a.tanggal_drop?C(a.tanggal_drop).format("DD-MM-YY"):""}),e("td",{className:"px-2 py-1",children:e(M,{value:a.drop,displayType:"text",thousandSeparator:","})}),e("td",{className:"px-2 py-1",children:a.lunas}),e("td",{className:"px-2 py-1",children:a.status})]},i)),e("tr",{})]})]})})]}),c?o?e(B,{setLoading:s,max_date:u,min_date:h,emps:N,nik:c,customer_id:o==null?void 0:o.id,url:route("mantriapps.store")}):e(E,{setLoading:s,max_date:u,min_date:h,emps:N,nik:c,url:route("mantriapps.store")}):""]})})};export{me as default};
