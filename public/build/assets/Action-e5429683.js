import{r as i,a as e,F as f,j as n,d as C,e as S}from"./app-96bf9012.js";import{D as A,a as D,b as K,c as R,d as E}from"./dialog-79f9ee6d.js";import{C as m,a as h,b as u,d,c as F}from"./card-2220e99c.js";import{T as H,a as q,b as x,c as j}from"./tabs-e1a5cb90.js";import B from"./RiwayatPengajuan-27e229a3.js";import{T as J,a as M,b as k,c,d as I,e as l,F as L}from"./FormatNumbering-260991c3.js";import{B as G}from"./badge-ae0375b1.js";import O from"./Acc-3b4aaab8.js";import U from"./Tolak-d49dca7e.js";import V from"./DropJadi-b995b1c1.js";import z from"./Gagal-28dbd457.js";import"./index-ec5ac0da.js";import"./react-icons.esm-9f904700.js";import"./index-7e0f76bd.js";import"./button-db28f379.js";import"./utils-36e2ef84.js";import"./index-a15ca73e.js";import"./index-911770b2.js";import"./DetailRiwayat-4577869c.js";import"./play-3a1b5482.js";import"./createLucideIcon-a3088983.js";import"./react-number-format.es-103496b8.js";import"./Loading-26a37045.js";import"./transition-370f079c.js";import"./label-73fce06a.js";import"./index-6f7aeba7.js";import"./index.esm-5105eb0f.js";const Te=({show:r=!1,onClosed:t,triggeredData:s})=>{const[a,v]=i.useState([]),[T,b]=i.useState([]),[W,w]=i.useState(),[y,p]=i.useState(!1),[_,N]=i.useState(!1);i.useEffect(()=>{v(s),w(s==null?void 0:s.request)},[s]);const P=async g=>{p(!0),N(),await S({method:"post",url:route("transaction.nasabah_buku_transaksi"),data:{nik:s.nik}}).then(function({data:o}){p(!1),o.falidate_nik?b(o.data):b([])}).catch(function({response:o}){N(o.data.message),p(!1)})};return i.useEffect(()=>{s!=null&&s.nik&&P()},[s]),e(f,{children:e(A,{open:r,onOpenChange:g=>g?"":t(),children:n(D,{className:"w-[90vw] h-[90vh] lg:h-auto overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[_&&e("div",{children:"terjadi kesalahan saat memuat data"}),y?e("div",{children:"Data Sedang Dimuat"}):n(K,{children:[e(R,{children:"Check Transaksi Mantri"}),e(E,{children:n(H,{defaultValue:"account",className:"w-full",children:[n(q,{className:"grid w-full grid-cols-2",children:[e(x,{value:"account",children:"Action"}),e(x,{value:"password",children:"Riwayat Pinjaman"})]}),n(j,{value:"account",children:[n(m,{children:[e(h,{children:e(u,{children:"Detail Pengajuan"})}),e(d,{className:"space-y-2",children:e("div",{className:"overflow-auto border rounded-lg scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:Q(a)})})]}),n("div",{className:"flex flex-col gap-3 mt-3 lg:flex-row",children:[n(m,{className:"w-full",children:[e(h,{children:e(u,{children:"Acc / Cek Kodham"})}),e(d,{className:"space-y-2",children:e("div",{className:"flex items-end justify-center gap-2 mx-auto lg:w-1/2",children:(a==null?void 0:a.status)==="open"?n(f,{children:[e(O,{id:a==null?void 0:a.nomor_pengajuan,acc:(a==null?void 0:a.acc)??(a==null?void 0:a.request),onClosed:t}),e(U,{id:a==null?void 0:a.nomor_pengajuan,onClosed:t})]}):n("div",{children:["Status Pengajuan = ",a==null?void 0:a.status,", Tanggal"," ",a==null?void 0:a.check_date]})})})]}),(a==null?void 0:a.status)!=="open"&&n(m,{className:"w-full",children:[e(h,{children:e(u,{children:"Drop Jadi"})}),e(d,{className:"space-y-2",children:e("div",{className:"flex items-end justify-center gap-2 mx-auto lg:w-1/2",children:(a==null?void 0:a.status)==="acc"?n(f,{children:[e(V,{id:a==null?void 0:a.nomor_pengajuan,drop_jadi:a==null?void 0:a.acc,onClosed:t}),e(z,{id:a==null?void 0:a.nomor_pengajuan,onClosed:t})]}):n("div",{children:["Status Pengajuan = ",a==null?void 0:a.status,", Tanggal"," ",a==null?void 0:a.check_date]})})})]})]})]}),e(j,{value:"password",children:n(m,{children:[n(h,{children:[e(u,{children:"Riwayat Pengajuan"}),e(F,{children:"Riwayat Pengajuan Nasabah dilihat berdasarkan NIK yang tertera dari semua cabang"})]}),e(d,{className:"space-y-2",children:e("div",{className:"h-[50vh] border rounded-lg overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:e(B,{data:T})})})]})})]})})]})]})})})};function Q(r){return n(J,{children:[e(M,{children:n(k,{children:[e(c,{className:"text-center",children:"Tanggal Pengajuan"}),e(c,{className:"text-center",children:"Nomor Pengajuan"}),e(c,{className:"text-center",children:"Status"}),e(c,{className:"text-center",children:"Nama Nasabah"}),e(c,{className:"text-center",children:"NIK"}),e(c,{className:"text-center",children:"Alamat"}),e(c,{className:"text-center",children:"Unit"}),e(c,{className:"text-center",children:"Kelompok"}),e(c,{className:"text-center",children:"Pengajuan"}),e(c,{className:"text-center",children:"Tgl Drop"}),e(c,{className:"text-center",children:"Kelompok"}),e(c,{className:"text-center",children:"Pinj Ke"}),e(c,{className:"text-center",children:"Acc"}),e(c,{className:"text-center",children:"Drop Jadi"})]})}),r&&e(I,{children:n(k,{className:"text-center",children:[e(l,{className:"bg-red-200",children:r.tanggal_pengajuan}),e(l,{children:r.nomor_pengajuan}),e(l,{children:e(G,{variant:r.status=="open"?"green":r.status=="acc"?"yellow":r.status=="success"?"default":"destructive",children:r.status})}),e(l,{children:r.nama}),e(l,{children:r.nik}),e(l,{children:r.alamat}),e(l,{children:r.unit}),e(l,{children:r.kelompok}),e(l,{children:e(L,{value:r.request})}),e(l,{children:C(r.tanggal_drop).format("DD/MM")}),e(l,{children:r.kelompok}),e(l,{children:r.pinjaman_ke}),e(l,{children:r.acc}),e(l,{children:r.drop_jadi})]})})]})}export{Te as default};
