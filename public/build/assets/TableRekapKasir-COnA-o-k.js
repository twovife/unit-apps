import{r as n,X as K,j as a,d as R,R as k}from"./app-bXPm8Awk.js";import{T as N,a as S,b as i,c as x,d as M,e as j,f as F}from"./table-R_6ifxuY.js";import{u as O,f as u,g as B}from"./index-DI4IZvjG.js";import{F as t}from"./FormatNumbering-B8Fydr-a.js";import{B as f}from"./BargeStatus-DHw1XZbT.js";import"./button-C4BLr6ZZ.js";import"./utils-CytzSlOG.js";import"./react-number-format.es-DoOBJQB9.js";import"./index-COj3Wzbp.js";const L=({setOnShowModal:p,setTriggeredData:h,setTriggeredType:g,datas:d})=>{const[m,b]=n.useState([]),{auth:v}=K().props;n.useEffect(()=>{b(d)},[d]);const r=(e=>e.reduce((s,o)=>(Object.keys(o).forEach(l=>{s[l]=(s[l]||0)+(o[l]||0)}),s),{}))(m),w=(e,s)=>{p(!0),h(e),g(s)},y=n.useMemo(()=>[{header:"",accessorKey:"kelompok",cell:({getValue:e,cell:s})=>a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{children:s.row.original.type=="daily"?e():R(s.row.original.tanggal).format("DD-MM")}),v.permissions.includes("can update")&&a.jsx(f,{onClick:()=>w(s.row.original,1),children:"Input"})]})},{header:"Kasbon",accessorKey:"kasbon",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.kasbon})},{header:"Storting",accessorKey:"storting",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.storting})},{header:"DO11%",accessorKey:"do11",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.do11})},{header:"Deb",accessorKey:"debit",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.debit})},{header:"Drop",accessorKey:"drop",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.drop})},{header:"Transport",accessorKey:"transport",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.transport})},{header:"Kre",accessorKey:"kredit",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.kredit})},{header:"Tunai",accessorKey:"tunai",cell:({getValue:e})=>a.jsx(t,{value:e()}),footer:e=>a.jsx(t,{value:r.tunai})}],[r]),c=O({data:m,columns:y,getCoreRowModel:B(),debugTable:!0}),[H,T]=n.useState(!1),[A,C]=n.useState(),D=e=>{T(!0),C(e)};return a.jsx(a.Fragment,{children:a.jsxs(N,{className:"w-full mb-3 table-auto",children:[a.jsx(S,{className:"sticky top-0 z-10 bg-gray-100",children:c.getHeaderGroups().map((e,s)=>a.jsx(i,{children:e.headers.map((o,l)=>a.jsx(x,{className:"text-center",children:u(o.column.columnDef.header,o.getContext())},l))},s))}),a.jsx(M,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((e,s)=>a.jsx(k.Fragment,{children:a.jsx(i,{className:"text-center",children:e.getVisibleCells().map(o=>a.jsx(j,{className:`${o.column.columnDef.className}`,children:o.column.columnDef.type=="show"?a.jsx("div",{className:"flex items-center justify-center gap-2",children:a.jsx(f,{value:o.row.original.status,onClick:()=>D(o.row.original)})}):u(o.column.columnDef.cell,o.getContext())},o.id))},s)},s)):a.jsx(i,{children:a.jsx(j,{colSpan:"4",children:"Belum Ada Catatan Pinjaman"})})}),a.jsx(F,{children:c.getFooterGroups().map(e=>a.jsx(i,{children:e.headers.map(s=>a.jsx(x,{className:"text-center text-black bg-gray-100",children:u(s.column.columnDef.footer,s.getContext())},s.id))},e.id))})]})})};export{L as default};
