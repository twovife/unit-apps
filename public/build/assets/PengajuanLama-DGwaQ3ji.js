import{G as Y,d as v,r as l,j as e}from"./app-DGVigBOE.js";import{I as d}from"./InputError-Bw8nPHcm.js";import{L as z}from"./Loading-DMtMfGcu.js";import{B as t}from"./button-rS3_Wmdu.js";import{I as b}from"./input-hiXsNSZw.js";import{L as c}from"./label-BShTYR7D.js";import{C as N}from"./index.esm-DtkwdLfj.js";import"./index-BtqdhX95.js";import"./transition-CfosE7Eq.js";import"./index-CVVN396G.js";import"./utils-CytzSlOG.js";import"./index-BHSBDpLv.js";import"./index-BKUnDlkJ.js";const H=({isActive:m,triggeredId:i,triggeredPinjaman:A})=>{const{data:n,setData:o,errors:u,post:h,processing:p,reset:_}=Y({request_date:v().format("YYYY-MM-DD"),tanggal_drop:"",request_nominal:0,type:"pengajuan"}),[y,x]=l.useState(),[C,q]=l.useState();l.useEffect(()=>{q(n.request_date),o(a=>({...a,tanggal_drop:v(n.request_date).add(1,"week").format("YYYY-MM-DD")}))},[n.request_date]);const k=a=>{x(!!a)},g=a=>{const{name:r,value:j}=a.target;o(r,j)},w=(a,r,j)=>{o(r,a)},s=a=>{const r=a.target.getAttribute("data-value");o("request_nominal",r)},f=async()=>{try{const a=await axios.get(route("pinjaman.checkpengajuan",i));k(a.data.data.loan_out_status)}catch(a){console.log(a)}};l.useEffect(()=>{m&&i&&f()},[m,i]);const D=a=>{a.preventDefault(),h(route("pinjaman.store_pengajuan_lama",i),{onSuccess:()=>{_(),f()}})};return e.jsx("div",{children:y?e.jsx("div",{children:"Ada Pengajuan"}):e.jsxs("div",{children:[e.jsx(z,{show:p}),e.jsxs("div",{className:"w-full mb-3",children:[e.jsx(c,{children:"Tanggal Pengajuan"}),e.jsx(b,{type:"date",name:"request_date",required:!0,value:n.request_date,onChange:g}),e.jsx(d,{message:u.request_date})]}),e.jsxs("div",{className:"w-full mb-3",children:[e.jsx(c,{children:"Tanggal Drop"}),e.jsx(b,{type:"date",name:"tanggal_drop",min:C,required:!0,value:n.tanggal_drop,onChange:g}),e.jsx(d,{message:u.tanggal_drop})]}),e.jsxs("div",{className:"w-full mb-3",children:[e.jsx(c,{children:"Nominal Pinjaman"}),e.jsx(N,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"request_nominal",defaultValue:0,allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:w,value:n.request_nominal,placeholder:"Inputkan angka tanpa sparator"}),e.jsx(d,{message:u.request_nominal})]}),e.jsxs("div",{className:"flex flex-wrap w-full gap-2 mb-3",children:[e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"400000",children:"400rb"}),e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"500000",children:"500rb"}),e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"700000",children:"700rb"}),e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"800000",children:"800rb"}),e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"1000000",children:"1 Jt"}),e.jsx(t,{type:"button",variant:"outline",size:"xs",onClick:s,"data-value":"1500000",children:"1,5 Jt"}),e.jsx(t,{type:"button",variant:"destructive",size:"xs",onClick:s,"data-value":"0",children:"reset"})]}),e.jsx("div",{className:"text-end",children:e.jsx(t,{type:"submit",onClick:D,disabled:p,children:"Submit"})})]})})};export{H as default};
