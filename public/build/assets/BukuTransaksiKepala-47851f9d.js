import{r as a,a as c,j as S,F as J,c as ue}from"./app-89964f60.js";import{C as he,a as fe,b as me,d as pe,e as be}from"./card-662026ea.js";import{F as y}from"./FormatNumbering-e171b06a.js";import{B as ve}from"./BargeStatus-23854b11.js";import{B as Se}from"./BadgeStatus-4c91a3a0.js";import we from"./Action-d6b6aef9.js";import{u as T,P as D}from"./index-ea477c8f.js";import{c as ge,P as k,a as R}from"./index-4f223c39.js";import{b as P,c as Ce}from"./index-07e776c0.js";import{u as xe}from"./index-0998ba7c.js";import{c as K}from"./utils-aa679991.js";import"./separator-e4d247b1.js";import"./react-number-format.es-33d4ddf3.js";import"./button-662018a0.js";import"./badge-cca44c2f.js";import"./dialog-cd6574bf.js";import"./react-icons.esm-f5117589.js";import"./tabs-d076e04f.js";import"./RiwayatPengajuan-e5ea0351.js";import"./table-bf376661.js";import"./index-5736d76b.js";import"./Loading-ceec09d3.js";import"./transition-16898277.js";import"./ModalShowAngsuran-7ba3ae69.js";import"./Acc-ef81ed52.js";import"./NoEditOverlay-b8442ca0.js";import"./useFrontEndPermission-3fddc876.js";import"./label-e1be8c98.js";import"./index-bcb7b51f.js";import"./index.esm-520ad08f.js";import"./ActionTable-833c8bc9.js";import"./use-mobile-4a7e3d84.js";import"./sonner-87354e32.js";import"./createLucideIcon-6426f9be.js";import"./RemoveLoan-de7dd104.js";import"./ChangeDetail-6802771a.js";import"./input-dda9d482.js";function Pe(e,[o,r]){return Math.min(r,Math.max(o,e))}function Re(e,o){return a.useReducer((r,n)=>o[r][n]??r,e)}var U="ScrollArea",[G,xr]=ge(U),[Ee,w]=G(U),Q=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,type:n="hover",dir:t,scrollHideDelay:l=600,...i}=e,[d,u]=a.useState(null),[f,h]=a.useState(null),[m,s]=a.useState(null),[p,v]=a.useState(null),[N,X]=a.useState(null),[x,L]=a.useState(0),[F,O]=a.useState(0),[H,_]=a.useState(!1),[W,z]=a.useState(!1),b=T(o,E=>u(E)),g=xe(t);return c(Ee,{scope:r,type:n,dir:g,scrollHideDelay:l,scrollArea:d,viewport:f,onViewportChange:h,content:m,onContentChange:s,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:H,onScrollbarXEnabledChange:_,scrollbarY:N,onScrollbarYChange:X,scrollbarYEnabled:W,onScrollbarYEnabledChange:z,onCornerWidthChange:L,onCornerHeightChange:O,children:c(D.div,{dir:g,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":F+"px",...e.style}})})});Q.displayName=U;var Z="ScrollAreaViewport",ee=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,children:n,nonce:t,...l}=e,i=w(Z,r),d=a.useRef(null),u=T(o,d,i.onViewportChange);return S(J,{children:[c("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),c(D.div,{"data-radix-scroll-area-viewport":"",...l,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ee.displayName=Z;var C="ScrollAreaScrollbar",V=a.forwardRef((e,o)=>{const{forceMount:r,...n}=e,t=w(C,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=t,d=e.orientation==="horizontal";return a.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),t.type==="hover"?c(ye,{...n,ref:o,forceMount:r}):t.type==="scroll"?c(Ae,{...n,ref:o,forceMount:r}):t.type==="auto"?c(re,{...n,ref:o,forceMount:r}):t.type==="always"?c(j,{...n,ref:o}):null});V.displayName=C;var ye=a.forwardRef((e,o)=>{const{forceMount:r,...n}=e,t=w(C,e.__scopeScrollArea),[l,i]=a.useState(!1);return a.useEffect(()=>{const d=t.scrollArea;let u=0;if(d){const f=()=>{window.clearTimeout(u),i(!0)},h=()=>{u=window.setTimeout(()=>i(!1),t.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",h)}}},[t.scrollArea,t.scrollHideDelay]),c(k,{present:r||l,children:c(re,{"data-state":l?"visible":"hidden",...n,ref:o})})}),Ae=a.forwardRef((e,o)=>{const{forceMount:r,...n}=e,t=w(C,e.__scopeScrollArea),l=e.orientation==="horizontal",i=B(()=>u("SCROLL_END"),100),[d,u]=Re("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>u("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,t.scrollHideDelay,u]),a.useEffect(()=>{const f=t.viewport,h=l?"scrollLeft":"scrollTop";if(f){let m=f[h];const s=()=>{const p=f[h];m!==p&&(u("SCROLL"),i()),m=p};return f.addEventListener("scroll",s),()=>f.removeEventListener("scroll",s)}},[t.viewport,l,u,i]),c(k,{present:r||d!=="hidden",children:c(j,{"data-state":d==="hidden"?"hidden":"visible",...n,ref:o,onPointerEnter:R(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),re=a.forwardRef((e,o)=>{const r=w(C,e.__scopeScrollArea),{forceMount:n,...t}=e,[l,i]=a.useState(!1),d=e.orientation==="horizontal",u=B(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(d?f:h)}},10);return A(r.viewport,u),A(r.content,u),c(k,{present:n||l,children:c(j,{"data-state":l?"visible":"hidden",...t,ref:o})})}),j=a.forwardRef((e,o)=>{const{orientation:r="vertical",...n}=e,t=w(C,e.__scopeScrollArea),l=a.useRef(null),i=a.useRef(0),[d,u]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=ae(d.viewport,d.content),h={...n,sizes:d,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:s=>l.current=s,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:s=>i.current=s};function m(s,p){return Oe(s,i.current,d,p)}return r==="horizontal"?c(Te,{...h,ref:o,onThumbPositionChange:()=>{if(t.viewport&&l.current){const s=t.viewport.scrollLeft,p=$(s,d,t.dir);l.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:s=>{t.viewport&&(t.viewport.scrollLeft=s)},onDragScroll:s=>{t.viewport&&(t.viewport.scrollLeft=m(s,t.dir))}}):r==="vertical"?c(Ne,{...h,ref:o,onThumbPositionChange:()=>{if(t.viewport&&l.current){const s=t.viewport.scrollTop,p=$(s,d);l.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:s=>{t.viewport&&(t.viewport.scrollTop=s)},onDragScroll:s=>{t.viewport&&(t.viewport.scrollTop=m(s))}}):null}),Te=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:n,...t}=e,l=w(C,e.__scopeScrollArea),[i,d]=a.useState(),u=a.useRef(null),f=T(o,u,l.onScrollbarXChange);return a.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),c(te,{"data-orientation":"horizontal",...t,ref:f,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":I(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(l.viewport){const s=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(s),se(s,m)&&h.preventDefault()}},onResize:()=>{u.current&&l.viewport&&i&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:M(i.paddingLeft),paddingEnd:M(i.paddingRight)}})}})}),Ne=a.forwardRef((e,o)=>{const{sizes:r,onSizesChange:n,...t}=e,l=w(C,e.__scopeScrollArea),[i,d]=a.useState(),u=a.useRef(null),f=T(o,u,l.onScrollbarYChange);return a.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),c(te,{"data-orientation":"vertical",...t,ref:f,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":I(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(l.viewport){const s=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(s),se(s,m)&&h.preventDefault()}},onResize:()=>{u.current&&l.viewport&&i&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:M(i.paddingTop),paddingEnd:M(i.paddingBottom)}})}})}),[_e,oe]=G(C),te=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:t,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:h,onResize:m,...s}=e,p=w(C,r),[v,N]=a.useState(null),X=T(o,b=>N(b)),x=a.useRef(null),L=a.useRef(""),F=p.viewport,O=n.content-n.viewport,H=P(h),_=P(u),W=B(m,10);function z(b){if(x.current){const g=b.clientX-x.current.left,E=b.clientY-x.current.top;f({x:g,y:E})}}return a.useEffect(()=>{const b=g=>{const E=g.target;(v==null?void 0:v.contains(E))&&H(g,O)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[F,v,O,H]),a.useEffect(_,[n,_]),A(v,W),A(p.content,W),c(_e,{scope:r,scrollbar:v,hasThumb:t,onThumbChange:P(l),onThumbPointerUp:P(i),onThumbPositionChange:_,onThumbPointerDown:P(d),children:c(D.div,{...s,ref:X,style:{position:"absolute",...s.style},onPointerDown:R(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),x.current=v.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),z(b))}),onPointerMove:R(e.onPointerMove,z),onPointerUp:R(e.onPointerUp,b=>{const g=b.target;g.hasPointerCapture(b.pointerId)&&g.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=L.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Y="ScrollAreaThumb",ne=a.forwardRef((e,o)=>{const{forceMount:r,...n}=e,t=oe(Y,e.__scopeScrollArea);return c(k,{present:r||t.hasThumb,children:c(De,{ref:o,...n})})}),De=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,style:n,...t}=e,l=w(Y,r),i=oe(Y,r),{onThumbPositionChange:d}=i,u=T(o,m=>i.onThumbChange(m)),f=a.useRef(),h=B(()=>{f.current&&(f.current(),f.current=void 0)},100);return a.useEffect(()=>{const m=l.viewport;if(m){const s=()=>{if(h(),!f.current){const p=He(m,d);f.current=p,d()}};return d(),m.addEventListener("scroll",s),()=>m.removeEventListener("scroll",s)}},[l.viewport,h,d]),c(D.div,{"data-state":i.hasThumb?"visible":"hidden",...t,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:R(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),v=m.clientX-p.left,N=m.clientY-p.top;i.onThumbPointerDown({x:v,y:N})}),onPointerUp:R(e.onPointerUp,i.onThumbPointerUp)})});ne.displayName=Y;var q="ScrollAreaCorner",le=a.forwardRef((e,o)=>{const r=w(q,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c(Le,{...e,ref:o}):null});le.displayName=q;var Le=a.forwardRef((e,o)=>{const{__scopeScrollArea:r,...n}=e,t=w(q,r),[l,i]=a.useState(0),[d,u]=a.useState(0),f=!!(l&&d);return A(t.scrollbarX,()=>{var m;const h=((m=t.scrollbarX)==null?void 0:m.offsetHeight)||0;t.onCornerHeightChange(h),u(h)}),A(t.scrollbarY,()=>{var m;const h=((m=t.scrollbarY)==null?void 0:m.offsetWidth)||0;t.onCornerWidthChange(h),i(h)}),f?c(D.div,{...n,ref:o,style:{width:l,height:d,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function M(e){return e?parseInt(e,10):0}function ae(e,o){const r=e/o;return isNaN(r)?0:r}function I(e){const o=ae(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*o;return Math.max(n,18)}function Oe(e,o,r,n="ltr"){const t=I(r),l=t/2,i=o||l,d=t-i,u=r.scrollbar.paddingStart+i,f=r.scrollbar.size-r.scrollbar.paddingEnd-d,h=r.content-r.viewport,m=n==="ltr"?[0,h]:[h*-1,0];return ce([u,f],m)(e)}function $(e,o,r="ltr"){const n=I(o),t=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,l=o.scrollbar.size-t,i=o.content-o.viewport,d=l-n,u=r==="ltr"?[0,i]:[i*-1,0],f=Pe(e,u);return ce([0,i],[0,d])(f)}function ce(e,o){return r=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const n=(o[1]-o[0])/(e[1]-e[0]);return o[0]+n*(r-e[0])}}function se(e,o){return e>0&&e<o}var He=(e,o=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function t(){const l={left:e.scrollLeft,top:e.scrollTop},i=r.left!==l.left,d=r.top!==l.top;(i||d)&&o(),r=l,n=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(n)};function B(e,o){const r=P(e),n=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(n.current),[]),a.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,o)},[r,o])}function A(e,o){const r=P(o);Ce(()=>{let n=0;if(e){const t=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return t.observe(e),()=>{window.cancelAnimationFrame(n),t.unobserve(e)}}},[e,r])}var ie=Q,We=ee,ze=le;const Ye=a.forwardRef(({className:e,children:o,...r},n)=>S(ie,{ref:n,className:K("relative overflow-hidden",e),...r,children:[c(We,{className:"h-full w-full rounded-[inherit]",children:o}),c(de,{}),c(ze,{})]}));Ye.displayName=ie.displayName;const de=a.forwardRef(({className:e,orientation:o="vertical",...r},n)=>c(V,{ref:n,orientation:o,className:K("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c(ne,{className:"relative flex-1 rounded-full bg-border"})}));de.displayName=V.displayName;const Pr=({datas:e})=>{var m;const[o,r]=a.useState([]);a.useEffect(()=>{r(e)},[e]);const t=(s=>s.reduce((p,v)=>(p.request+=v.request||0,p.drop+=v.drop||0,p.drop_jadi+=v.drop_jadi||0,p.acc+=v.acc||0,p),{request:0,drop:0,acc:0,drop_jadi:0}))(o),[l,i]=a.useState(!1),[d,u]=a.useState(),f=s=>{i(!0),u(s)};return S(J,{children:[c(we,{show:l,onClosed:s=>{i(!1),u()},triggeredData:d}),S("div",{className:"flex flex-col gap-2",children:[c("div",{className:"p-3 py-1 text-lg font-semibold text-gray-800 bg-muted",children:ue((m=o[0])==null?void 0:m.tanggal_drop).format("DD-MM-YYYY")}),o&&o.map((s,p)=>S(he,{className:"overflow-hidden text-xs transition-all group",children:[c(fe,{className:`p-3 pl-1 shadow ${s.drop_langsung=="lama"?"border-l-8 border-l-gray-600":"border-l-8 border-l-green-400"}`,children:c(me,{children:S("div",{className:"flex items-center justify-between",children:[S("div",{children:[c("span",{className:"mr-3 text-base",children:s.nama}),c(Se,{value:s.drop_langsung})]}),c(ve,{value:s.status,onClick:()=>f(s)})]})})}),S(pe,{className:`p-3 pl-1 text-sm shadow ${s.drop_langsung=="lama"?"border-l-8 border-l-gray-600":"border-l-8 border-l-green-400"}`,children:[c("div",{className:"font-semibold ",children:s.nik}),c("div",{className:"break-words",children:s.alamat})]}),c(be,{className:`p-3 ${s.drop_langsung=="lama"?"border-l-8 border-l-gray-600":"border-l-8 border-l-green-400"}`,children:S("div",{className:"flex w-full text-xs font-semibold text-center ",children:[S("div",{className:"flex-1 border-r-2 border-red-300",children:[c("div",{children:"Pengajuan"}),c("div",{children:c(y,{className:"text-center",value:s.request})})]}),S("div",{className:"flex-1 border-r-2 border-red-300",children:[c("div",{children:"Acc"}),c(y,{className:"text-center",value:s.acc})]}),S("div",{className:"flex-1",children:[c("div",{children:"Drop Jadi"}),c(y,{className:"text-center",value:s.drop_jadi})]})]})})]},s.key)),c("div",{className:"p-3 overflow-hidden text-sm border-l-8 rounded-lg shadow",children:S("div",{className:"flex w-full font-semibold text-center ",children:[S("div",{className:"flex-1 border-r-2 border-red-300",children:[c("div",{children:"Pengajuan"}),c("div",{children:c(y,{className:"text-center",value:t.request})})]}),S("div",{className:"flex-1 border-r-2 border-red-300",children:[c("div",{children:"Acc"}),c(y,{className:"text-center",value:t.acc})]}),S("div",{className:"flex-1",children:[c("div",{children:"Drop Jadi"}),c(y,{className:"text-center",value:t.drop_jadi})]})]})})]})]})};export{Pr as default};
