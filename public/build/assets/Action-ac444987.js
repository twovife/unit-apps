import{r as i,a,F as P,j as e,k as S}from"./app-1513e6ad.js";import{D as R,a as E,b as _,c as M,d as U}from"./dialog-c0b29a8d.js";import{A as D,a as H,b as I,c as K}from"./accordion-1ef771f4.js";import{C as l,a as t,b as c,d as o,c as v}from"./card-496f5bec.js";import{T as L,a as F,b as u,c as p}from"./tabs-952dd9b9.js";import N from"./RiwayatPengajuan-417d5035.js";import J from"./Acc-60fedd6d.js";import O from"./ActionTable-83dd5c0d.js";import q from"./RemoveLoan-a1dda1f9.js";import"./Loading-dd9671cb.js";import"./button-fa3185df.js";import"./label-fcb642ac.js";import B from"./ChangeDetail-8af4cc63.js";import{N as y}from"./NoEditOverlay-92680984.js";import{u as V}from"./useFrontEndPermission-e97f7be2.js";import"./index-40c8da9e.js";import"./react-icons.esm-5687bae1.js";import"./utils-aa679991.js";import"./index-1c376abe.js";import"./index-fbaf698f.js";import"./index-3fba9fed.js";import"./table-7e5d8dfc.js";import"./index-2e4ba388.js";import"./FormatNumbering-8f8bff39.js";import"./react-number-format.es-55b240a9.js";import"./BargeStatus-c0c91ea9.js";import"./ModalShowAngsuran-2efd8777.js";import"./badge-2f261dfb.js";import"./index.esm-a025e82b.js";import"./BadgeStatus-6e08e193.js";import"./use-mobile-fce16445.js";import"./createLucideIcon-0dc67ecd.js";import"./transition-d80bb77d.js";import"./index-f6c8e49c.js";import"./input-79bff17c.js";const Pa=({show:x=!1,onClosed:d,triggeredData:n})=>{const[r,j]=i.useState([]),{isCreator:g}=V(),[s,b]=i.useState([]),[z,w]=i.useState(),[C,m]=i.useState(!1),[T,f]=i.useState(!1);i.useEffect(()=>{j(n),w(n==null?void 0:n.request)},[n]);const A=async k=>{m(!0),f(),await S({method:"post",url:route("transaction.nasabah_buku_transaksi"),data:{nik:n.nik}}).then(function({data:h}){m(!1),h.data?b(h.data):b([])}).catch(function({response:h}){f(h.data.message),m(!1)})};return i.useEffect(()=>{n!=null&&n.nik&&A()},[n]),a(P,{children:a(R,{open:x,onOpenChange:k=>k?"":d(),children:e(E,{className:"w-[95vw] h-auto px-1 overflow-hidden",children:[T&&a("div",{children:"terjadi kesalahan saat memuat data"}),C?a("div",{children:"Data Sedang Dimuat"}):e(_,{children:[a(M,{children:"Check Transaksi Mantri"}),a(U,{children:e(L,{defaultValue:"account",className:"w-full h-max",children:[e(F,{className:"grid w-full grid-cols-3",children:[a(u,{value:"account",children:"Action"}),a(u,{value:"history",children:"Crash Kantor"}),a(u,{value:"historylain",children:"Crash UBM"})]}),e(p,{value:"account",className:"overflow-scroll h-[70vh]",children:[e(l,{children:[a(t,{children:a(c,{children:"Detail Pengajuan"})}),a(o,{className:"p-1 space-y-2",children:a("div",{className:"overflow-auto border rounded-lg scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:a(O,{datas:r})})})]}),e("div",{className:"flex flex-col gap-3 mt-3 lg:flex-row",children:[e("div",{className:"w-full",children:[e(l,{className:"relative mb-3",children:[a(t,{children:a(c,{children:"ACC / DROP"})}),a(o,{className:"space-y-2",children:a("div",{className:"flex items-end justify-center gap-2 mx-auto mb-3",children:a(J,{id:r==null?void 0:r.nomor_pengajuan,triggeredData:r,onClosed:d})})})]}),e(l,{className:"relative",children:[!g&&a(y,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),a(t,{children:a(c,{children:"Admin Edit"})}),a(o,{className:"space-y-2",children:a("div",{children:r&&a(B,{onClosed:d,triggeredData:n})})})]})]}),e(l,{className:"relative w-full",children:[!g&&a(y,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),a(t,{children:a(c,{children:"Remove Loan"})}),e(o,{className:"space-y-2",children:[e("div",{className:"w-full mt-6 mb-3 text-start",children:[a("p",{className:"text-lg font-semibold text-red-500",children:"Hapus Pinjaman"}),e("p",{className:"mb-1 text-xs italic font-light text-red-500",children:["Perhatian !!!, Jika pengajuan berstatus sukses, maka pengajuan sudah masuk dalam daftar angsuran, jika tetap dihapus akan mempengaruhi data pada angsuran, dan angsuran akan ikut terhapus.",a("br",{})," ( Penghapusan hanya bisa dilakukan 2hari dari tanggal drop (Mantri) dan 2bulan (Admin & Kepala))"]}),a("div",{className:"text-right",children:a(q,{triggeredId:r==null?void 0:r.nomor_pengajuan,onClosed:d})})]}),a(D,{className:"mb-3",type:"single",collapsible:!0,children:e(H,{value:"item-1",children:[a(I,{children:"Tambahan"}),a(K,{children:a("div",{className:"text-sm",children:e("ul",{className:"list-disc list-outside",children:[a("li",{children:"1. Jika ada kesalahan pada angsuran baru ( angsuran hari ini ) utamakan menghapus, dan buat angsuran lagi."}),a("li",{children:"2. Jika terjadi kesalahan Status * Tanggal, usahakan untuk ganti tanggal ( tanggal drop / tanggal request ) dan dan reset status setelah itu"}),a("li",{children:"3. Setelah mengganti Detail pada angsuran, dimohon untuk cek ulang, storting & dan transaksi lagi, dikarenakan perubahan pada detail, akan mempengaruhi laporan lainnya"}),a("li",{className:"text-red-500",children:"4. Reset Status Hanya Tersedia jika pinjaman adalah drop lama / pengajuan"})]})})})]})})]})]})]})]}),a(p,{value:"history",children:e(l,{children:[e(t,{children:[a(c,{children:"Riwayat Pengajuan"}),a(v,{children:"Riwayat Pengajuan Nasabah dilihat berdasarkan NIK yang tertera dari semua cabang"})]}),a(o,{className:"p-1 space-y-2",children:a("div",{className:"h-[50vh] border rounded-lg overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:a(N,{data:s==null?void 0:s.history_branch})})})]})}),a(p,{value:"historylain",children:e(l,{children:[e(t,{children:[a(c,{children:"Riwayat Pengajuan"}),a(v,{children:"Riwayat Pengajuan Nasabah dilihat berdasarkan NIK yang tertera dari semua cabang"})]}),a(o,{className:"p-1 space-y-2",children:a("div",{className:"h-[50vh] border rounded-lg overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:a(N,{data:s==null?void 0:s.history_lain})})})]})})]})})]})]})})})};export{Pa as default};
