import{X as G,G as J,r as K,j as r,a as l}from"./app-7bbfb085.js";import{D as P,a as X,b as z,c as Q}from"./dialog-15f773ec.js";import{C as A,a as q,b as F,d as p}from"./card-ab6a134c.js";import{L as o}from"./label-a971ef72.js";import{C as a}from"./index.esm-0b67201b.js";import{B as U}from"./button-f02a337b.js";import{L as W}from"./Loading-ec0d7ff5.js";import{C as Y}from"./Checkbox-6d99fe56.js";import{I as Z}from"./InputLabel-41cf1097.js";import"./index-472b2440.js";import"./index-9640f373.js";import"./index-6cbafb6f.js";import"./Combination-221b9ebf.js";import"./index-495553a1.js";import"./react-icons.esm-702c8a2f.js";import"./utils-3f044a58.js";import"./index-fcdb1b89.js";import"./transition-d06350b8.js";const ve=({datas:e,show:f=!1,onClosed:R})=>{const{sirkulasi:t,server_filter:{month:V,hari:O,groupId:B}}=G().props,{data:n,setData:b,post:M,reset:$,processing:L,errors:ee,transform:le}=J({ml_amount:"",mb_amount:"",cm_amount:"",amount:"",amount_next:"",cm_next:"",mb_next:"",ml_next:""});K.useEffect(()=>{var c,d,s,g,x,_,v,w,k,y,N,C,D,S,I;const m=E=>Object.values(E).reduce((H,{saldo:T})=>H+T,0);let u=0;e&&(u=m(e)),b({month:V,hari:O,transaction_loan_officer_grouping_id:B,ml_amount:(t==null?void 0:t.ml_amount)??0,mb_amount:(t==null?void 0:t.mb_amount)??0,cm_amount:(t==null?void 0:t.cm_amount)??0,calon_cm_amount:((c=e==null?void 0:e.ccm)==null?void 0:c.sirkulasi)??0,normal:(((d=e==null?void 0:e.n1)==null?void 0:d.sirkulasi)??0)+(((s=e==null?void 0:e.normal)==null?void 0:s.sirkulasi)??0),amount:(t==null?void 0:t.amount)??0,ml_amount_akhir:((g=e==null?void 0:e.ml)==null?void 0:g.saldo)??0,mb_amount_akhir:((x=e==null?void 0:e.mb)==null?void 0:x.saldo)??0,cm_amount_akhir:((_=e==null?void 0:e.cm)==null?void 0:_.saldo)??0,calon_cm_amount_akhir:((v=e==null?void 0:e.ccm)==null?void 0:v.saldo)??0,normal_akhir:(((w=e==null?void 0:e.n1)==null?void 0:w.saldo)??0)+(((k=e==null?void 0:e.normal)==null?void 0:k.saldo)??0),amount_akhir:u,amount_next:u,ml_next:(((y=e==null?void 0:e.ml)==null?void 0:y.saldo)??0)+(((N=e==null?void 0:e.mb)==null?void 0:N.saldo)??0),mb_next:((C=e==null?void 0:e.cm)==null?void 0:C.saldo)??0,cm_next:((D=e==null?void 0:e.ccm)==null?void 0:D.saldo)??0,normal_next:(((S=e==null?void 0:e.n1)==null?void 0:S.saldo)??0)+(((I=e==null?void 0:e.normal)==null?void 0:I.saldo)??0)})},[t,f]);const h=()=>{R()},j=m=>{m.preventDefault(),M(route("adminpanel.sirkulasiAwal"),{onSuccess:()=>{h()}})},i=(m,u)=>{const c=["ml_next","mb_next","cm_next","normal_next"];let d=0;c.forEach(s=>{s===u?d+=parseInt(m):d+=parseInt(n[s])}),b(s=>({...s,[u]:m,amount_next:d}))};return r(P,{open:f,onOpenChange:m=>m?"":h(),children:[l(W,{show:L}),r(X,{className:"w-[90vw] h-[90vh] overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[l(z,{className:"max-h-10",children:l(Q,{children:"Isi Angsuran"})}),l(A,{className:"w-full",children:r(q,{children:[l(F,{children:"Sirkulasi"}),r(A,{className:"w-full",children:[l(q,{children:l(F,{children:"Sirkulasi Awal"})}),r("form",{onSubmit:j,children:[r("div",{className:"flex w-full",children:[r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(o,{htmlFor:"amount",children:"Sirkulasi Awal"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"ml_amount",children:"Saldo Awal (ML)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.ml_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"mb_amount",children:"Saldo Awal (MB)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.mb_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"cm_amount",children:"Saldo Awal (CM)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"calon_cm_amount",children:"Saldo Awal (Calon CM)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.calon_cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"normal",children:"Saldo Awal (Normal)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.normal,placeholder:"Inputkan angka tanpa sparator"})]})]}),r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(o,{children:"Sirkulasi Akhir"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,value:n.amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"ml_amount_akhir",children:"Saldo Akhir (ML)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.ml_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"mb_amount_akhir",children:"Saldo Akhir (MB)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.mb_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"cm_amount_akhir",children:"Saldo Akhir (CM)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"calon_cm_amount_akhir",children:"Saldo Akhir (Calon CM)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.calon_cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"normal_akhir",children:"Saldo Akhir (Normal)"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:i,value:n.normal_akhir,placeholder:"Inputkan angka tanpa sparator"})]})]}),r(p,{className:"flex-1",children:[r("div",{className:"mb-3",children:[l(o,{htmlFor:"amount_next",children:"Sirkulasi Awal Bulan Depan"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.amount_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"ml_next",children:"Saldo ML Awal Bulan Depan"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.ml_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"mb_next",children:"Saldo MB Awal Bulan Depan"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.mb_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"cm_next",children:"Saldo CM Awal Bulan Depan"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.cm_next,placeholder:"Inputkan angka tanpa sparator"})]}),r("div",{className:"mb-3",children:[l(o,{htmlFor:"normal_next",children:"Saldo Normal Awal Bulan Depan"}),l(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:i,value:n.normal_next,placeholder:"Inputkan angka tanpa sparator"})]})]})]}),r("div",{className:"flex justify-end p-3",children:[r("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[l(Y,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),l(Z,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),l(U,{type:"submit",children:"Submit"})]})]})]})]})})]})]})};export{ve as default};
