import{r as y,j as l,a,b as w,d as C}from"./app-2edb1ba6.js";import{I as o}from"./InputLabel-d34e4baf.js";import{L as S}from"./LinkButton-b8b7c353.js";import{P as T}from"./PrimaryButton-23563e2b.js";import{S as m}from"./SelectList-4128afd9.js";import{T as h}from"./TextInput-cc20b230.js";import{u as L}from"./useServerFilter-61aa053a.js";import{M}from"./MobileLayout-1f43c473.js";import{d as p}from"./dayjs.min-1ba8ab1c.js";import{N as F}from"./react-number-format.es-9d8190c9.js";import"./Loading-260c38d6.js";import"./transition-1ea8ada3.js";import"./index-a7373cae.js";const G=({data:c,branch:j,server_filters:t,...s})=>{const{serverFilters:i,onServerFilterChange:n,onServerFilterSubmit:u,loading:N,setLoading:D,mantriMantri:f,transaction_day:v}=L(route().current(),t),x=t.previledge=="mantri"?[{id:1,value:t.kelompok,display:t.kelompok}]:f,[d,g]=y.useState(""),b=()=>c.filter(e=>{const r=d.toLowerCase();return e.nik.toLowerCase().includes(r)||e.nama.toLowerCase().includes(r)||e.id==r}),k=e=>{g(e.target.value)};return l(M,{auth:s.auth,errors:s.errors,header:"Buku Transaksi",loading:N,children:[a(w,{title:"Buku Transaksi"}),l("div",{className:"mb-3",children:[l("div",{className:"flex justify-between items-center w-full gap-1 flex-wrap",children:[l("div",{className:"flex-1",children:[a(o,{htmlFor:"kelompok",value:"Kelompok"}),a(m,{id:"kelompok",type:"text",onChange:n,name:"kelompok",value:i.kelompok,options:x,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),l("div",{className:"flex-1",children:[a(o,{htmlFor:"hari",value:"Hari"}),a(m,{id:"hari",type:"text",onChange:n,name:"hari",value:i.hari,options:v,className:"mt-1 block w-full",autoComplete:"hari"})]}),l("div",{className:"flex-1",children:[a(o,{htmlFor:"date",value:"Tanggal Pengajuan"}),l("div",{className:"flex text-center items-center gap-1",children:[a("div",{className:"flex-1",children:a(h,{id:"date",type:"month",onChange:n,value:i.date,name:"date",className:"mt-1 block w-full"})}),a(T,{onClick:u,title:"Cari"}),a(S,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),a("div",{className:"w-full mt-3",children:a(h,{value:d,onChange:k,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),a("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] lg:max-h-[65vh] border-b-2",children:l("table",{className:"text-sm w-full border",children:[a("thead",{className:"bg-gray-200",children:l("tr",{className:"text-center",children:[a("td",{className:"p-2",children:"Tgl"}),a("td",{className:"p-2",children:"Nasabah"}),a("td",{className:"p-2",children:"Drop"}),a("td",{className:"p-2",children:"Status"}),a("td",{className:"p-2",children:"Mantri"})]})}),a("tbody",{children:c&&b().map((e,r)=>l("tr",{className:`even:bg-gray-100 text-xs ${e.id==s.id?"bg-green-100":""}`,children:[l("td",{className:"px-2 py-1",children:[a("div",{className:"font-semibold text-sm"}),l("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[l("span",{className:"capitalize",children:[e.hari,","]}),e.transaction_date?p(e.transaction_date).format("DD-MM-YY"):"","/"]}),a("div",{className:"mb-1 italic font-light",children:l("span",{className:"capitalize",children:["Drop :Â ",e.tanggal_drop?p(e.tanggal_drop).format("DD-MM-YY"):""]})})]}),l("td",{className:"px-2 py-1",children:[a("div",{className:"mb-1 font-semibold",children:e.nama}),a("div",{className:"mb-1",children:e.nik}),a("div",{className:"mb-1 font-light italic",children:e.alamat})]}),a("td",{className:"px-2 py-1 text-end",children:a(F,{value:e.drop,displayType:"text",thousandSeparator:","})}),a("td",{className:"px-2 py-1 text-center",children:a(C,{className:"bg-blue-500 px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded",href:route("mantriapps.show",e.id),children:e.status})}),l("td",{className:"px-2 py-1 text-end",children:[a("div",{children:e.mantri}),a("div",{children:e.kelompok})]})]},r))})]})})]})};export{G as default};
