import{r as x,j as r,a as e,b as g,d as y}from"./app-435315b1.js";import{I as c}from"./InputLabel-1af03087.js";import{L as w}from"./LinkButton-f5ba6415.js";import{P as T}from"./PrimaryButton-6fd86d6e.js";import{S as C}from"./SelectList-7f35d998.js";import{T as m}from"./TextInput-54c27c22.js";import{u as S}from"./useServerFilter-a07726f1.js";import{M as L}from"./MobileLayout-5e3ca2b7.js";import{d as p}from"./dayjs.min-73634b51.js";import{N as M}from"./react-number-format.es-3cfe4d9b.js";import"./Loading-98f0b5c4.js";import"./transition-18f98d84.js";import"./index-707096f7.js";const A=({data:i,branch:F,server_filters:l,...s})=>{const h=l.previledge=="mantri"?[{id:1,value:l.kelompok,display:l.kelompok}]:f,{serverFilters:n,onServerFilterChange:o,onServerFilterSubmit:u,loading:N,setLoading:D,mantriMantri:f}=S(route().current(),l),[d,k]=x.useState(""),v=()=>i.filter(a=>{const t=d.toLowerCase();return a.nik.toLowerCase().includes(t)||a.nama.toLowerCase().includes(t)||a.id==t}),b=a=>{k(a.target.value)};return r(L,{auth:s.auth,errors:s.errors,header:"Buku Transaksi",loading:N,children:[e(g,{title:"Buku Transaksi"}),r("div",{className:"mb-3",children:[r("div",{className:"flex justify-between items-center w-full gap-1",children:[r("div",{className:"flex-1",children:[e(c,{htmlFor:"kelompok",value:"Kelompok"}),e(C,{id:"kelompok",type:"text",onChange:o,name:"kelompok",value:n.kelompok,options:h,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),r("div",{className:"flex-1",children:[e(c,{htmlFor:"date",value:"Tanggal Transaksi"}),r("div",{className:"flex text-center items-center gap-1",children:[e("div",{className:"flex-1",children:e(m,{id:"date",type:"date",onChange:o,value:n.date,name:"date",className:"mt-1 block w-full"})}),e(T,{onClick:u,title:"Cari"}),e(w,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),e("div",{className:"w-full mt-3",children:e(m,{value:d,onChange:b,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),e("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] border-b-2",children:r("table",{className:"text-sm w-full border",children:[e("thead",{className:"bg-gray-200",children:r("tr",{className:"text-center",children:[e("td",{className:"p-2",children:"Tgl"}),e("td",{className:"p-2",children:"Nasabah"}),e("td",{className:"p-2",children:"Drop"}),e("td",{className:"p-2",children:"Status"}),e("td",{className:"p-2",children:"Mantri"})]})}),e("tbody",{children:i&&v().map((a,t)=>r("tr",{className:`even:bg-gray-100 text-xs ${a.id==s.id?"bg-green-100":""}`,children:[r("td",{className:"px-2 py-1",children:[e("div",{className:"font-semibold text-sm"}),r("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[r("span",{className:"capitalize",children:[a.hari,","]}),a.transaction_date?p(a.transaction_date).format("DD-MM-YY"):"","/"]}),e("div",{className:"mb-1 italic font-light",children:r("span",{className:"capitalize",children:["Drop :Â ",a.tanggal_drop?p(a.tanggal_drop).format("DD-MM-YY"):""]})})]}),r("td",{className:"px-2 py-1",children:[e("div",{className:"mb-1 font-semibold",children:a.nama}),e("div",{className:"mb-1",children:a.nik}),e("div",{className:"mb-1 font-light italic",children:a.alamat})]}),e("td",{className:"px-2 py-1 text-end",children:e(M,{value:a.drop,displayType:"text",thousandSeparator:","})}),e("td",{className:"px-2 py-1 text-center",children:e(y,{className:"bg-blue-500 px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded",href:route("mantriapps.show",a.id),children:a.status})}),r("td",{className:"px-2 py-1 text-end",children:[e("div",{children:a.mantri}),e("div",{children:a.kelompok})]})]},t))})]})})]})};export{A as default};
