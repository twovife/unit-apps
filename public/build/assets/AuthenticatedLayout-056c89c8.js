import{r as h,j as t,a as e,c as l,q as y,F as N}from"./app-b58b93b4.js";import{B as m}from"./button-43f09e73.js";import{e as M}from"./index-b1e0976d.js";import{c as k}from"./createLucideIcon-2919c283.js";import{T as j,D as S,a as D,U as A,b as B,c as L,d as g,e as p,S as x}from"./SweetAlert-aecd4b1e.js";import{L as C}from"./Loading-40bcc598.js";h.createContext();/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=k("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.424.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=k("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),w=({title:s,items:n,active:a,className:r,icon:i})=>{const[o,c]=h.useState(a);return t("div",{className:"relative",children:[t(m,{type:"button",variant:o?"":"outline",onClick:()=>{c(!o)},className:`${r} w-full flex justify-start items-center`,children:[i||e(b,{className:"w-4 h-4 mr-2"}),e("div",{className:"flex-1 w-full text-start",children:s}),e(M,{className:`${o?"transform rotate-180":""} w-5 h-5 transition-all duration-300`})]}),o&&e("div",{className:"w-full mt-2 origin-top-right rounded-md",children:e("div",{className:"py-1 space-y-2",children:n.map((u,v)=>e(m,{asChild:!0,variant:u.active?"destructive":"outline",className:`${r} w-full flex justify-start items-center`,onClick:()=>c(!1),children:t(l,{href:u.link,children:[e(_,{className:"w-4 h-4 mr-2"}),u.title]})},v))})})]})},f=({title:s="Menu Baru",className:n,active:a,icon:r,href:i="#"})=>e(m,{asChild:!0,variant:a?"":"outline",className:`${n} w-full flex justify-start items-center`,children:t(l,{href:i,children:[r||e(b,{className:"mr-2 h-4 w-4"})," ",s]})}),$=({isOpen:s})=>{const{auth:n}=y().props,a=n.user.permissions.some(r=>r.name==="unit");return t("aside",{className:`bg-white text-slate-900 w-64 fixed top-16 left-0 bottom-0 z-40 transition-all ease-in-out duration-300 border-r shadow ${s?"translate-x-0":"-translate-x-64"}`,children:[e("div",{className:"px-4 py-4 font-semibold border-b",children:"Apps Menu"}),t("div",{className:"p-4 space-y-4",children:[e(f,{href:route("home"),title:"Home",active:route().current("home")}),a&&t(N,{children:[e(f,{title:"Data Karyawan"}),e(w,{title:"Buku Transaksi",active:route().current("transaction.*"),items:[{id:1,title:"Buku Transaksi Mantri",link:route("transaction.index_buku_transaksi"),active:route().current("transaction.index_buku_transaksi")}]}),e(w,{title:"Angsuran",active:route().current("pinjaman.*"),items:[{id:1,title:"Buku Angsuran Lancar",link:route("pinjaman.index_pinjaman"),active:route().current("pinjaman.index_pinjaman")}]})]}),e(f,{url:route("mantriapps.index"),title:"Mantri Apps",active:route().current("mantriapps.*")})]})]})},O=$,H=({toggleSidebar:s,isOpen:n,auth:a,header:r})=>(h.useState(!1),e("header",{className:"sticky top-0 flex h-16 items-center gap-4 border-b bg-white px-4 md:px-6 z-50",children:t("nav",{className:"font-medium flex flex-row w-full items-center gap-5 text-sm lg:gap-6",children:[t("div",{className:"flex items-center justify-start",children:[e(j,{distance:"md",toggled:n,toggle:s,size:16,rounded:!0,color:"#020617"}),e("p",{className:"font-semibold hidden lg:block",children:"UBMI APPS"})]}),t("div",{className:"w-full flex-1 flex gap-6 underline",children:[e(l,{href:"#",className:"text-muted-foreground transition-colors hover:text-foreground",children:"Home"}),e(l,{href:"#",className:"text-muted-foreground transition-colors hover:text-foreground",children:"Mantri Apps"})]}),t(S,{children:[e(D,{asChild:!0,children:t(m,{className:"flex items-center justify-center gap-3 text-sm",children:[a.user.username,e(A,{className:"h-4 w-4 animate-pulse"})]})}),t(B,{align:"end",children:[e(L,{children:a.user.employee.nama_karyawan}),e(g,{}),e(p,{children:e(l,{href:route("profile.edit"),children:"Profile"})}),e(p,{children:e("a",{target:"_blank",href:"https://www.youtube.com/watch?v=HrHDfHy0lHk",children:"Support"})}),e(g,{}),e(p,{children:e(l,{href:route("logout"),method:"post",as:"button",replace:"true",children:"Logout"})})]})]})]})})),I=H;function q({header:s,children:n,loading:a=!1}){const[r,i]=h.useState(!1),o=()=>{i(!r)},{errors:c,flash:d,auth:u}=y().props;return t("div",{className:"relative",children:[Object.keys(c).length>0&&e(x,{type:"error",message:c[0],keys:d}),d.message&&e(x,{type:"success",message:d.message,keys:d}),e(C,{show:a}),e(I,{isOpen:r,toggleSidebar:o,auth:u,header:s}),e(O,{isOpen:r}),e("div",{className:`px-4 py-6 transition-all ease-in-out  duration-300 h-auto bg-white min-h-[calc(100vh-4rem)]  ${r?"ml-64":"ml-0"}`,children:e("main",{children:n})})]})}export{q as A};
