import{a as e,r as d,j as t,d as b,e as M}from"./app-03c4e2ed.js";import{D as P,a as H,b as B,c as L}from"./dialog-e72da597.js";import{C as j,a as D,b as C,d as y}from"./card-e16a722e.js";import{T,a as w,b as s,c as n,d as v,e as a}from"./table-50d72b2b.js";import{F as S}from"./FormatNumbering-06a043b2.js";import{B as c}from"./badge-fd57c5b7.js";import _ from"./BayarAngsuran-593f8105.js";import E from"./JenisNasabah-afd72bbc.js";import I from"./DeleteAngsuran-fe8ab08c.js";import K from"./DeleteLoan-d9415a16.js";import"./index-d4afce21.js";import"./react-icons.esm-ebeac550.js";import"./index-2fc9c375.js";import"./button-166eeb34.js";import"./index-f96983da.js";import"./utils-46f1eee5.js";import"./react-number-format.es-54406709.js";import"./label-19f69c5b.js";import"./index-b446129c.js";import"./input-6c6036f1.js";import"./index.esm-24810c02.js";import"./Checkbox-78ea57b8.js";import"./Loading-5a7213cc.js";import"./transition-18bb1c56.js";import"./InputError-89a1d9ff.js";import"./InputLabel-22373bb6.js";import"./PrimaryButton-929792f8.js";import"./SelectList-ef1768ef.js";import"./TextInput-90c1e157.js";const h=({value:l="normal"})=>{switch(l==null?void 0:l.toLowerCase()){case"normal":return e(c,{variant:"outline",children:l});case"cm":return e(c,{variant:"yellow",children:l});case"mb":return e(c,{variant:"destructive",children:l});case"ml":return e(c,{children:l});case"lunas":return e(c,{variant:"green",children:l});case"belum":return e(c,{variant:"outline",children:l});default:return e(c,{children:l})}},ge=({datas:l,show:p=!1,onClosed:Y,triggeredId:o})=>{const[O,u]=d.useState(!1),[R,N]=d.useState(!1),[r,x]=d.useState({}),[k,g]=d.useState([]),A=async i=>{u(!0),N(),await M({method:"get",url:route("pinjaman.get_loan_pinjaman",i)}).then(function({data:m}){u(!1),x(m.pinjaman),g(m.instalment)}).catch(function({response:m}){N()})};d.useEffect(()=>{o&&A(o)},[o,l]);const f=()=>{Y(),x({}),g([])};return e(P,{open:p,onOpenChange:i=>i?"":f(),children:t(H,{className:"w-[90vw] h-[90vh] overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[e(B,{className:"max-h-10",children:e(L,{children:"Isi Angsuran"})}),t(j,{className:"w-full",children:[e(D,{children:e(C,{children:"Rincian Pinjaman"})}),e(y,{children:t(T,{children:[e(w,{className:"bg-gray-200",children:t(s,{children:[e(n,{className:"text-center",children:"Nomor"}),e(n,{className:"text-center",children:"Nasabah"}),e(n,{className:"text-center",children:"NIK"}),e(n,{className:"text-center",children:"Alamat"}),e(n,{className:"text-center",children:"Unit"}),e(n,{className:"text-center",children:"Kelompok"}),e(n,{className:"text-center",children:"Hari"}),e(n,{className:"text-center",children:"Tanggal Drop"}),e(n,{className:"text-center",children:"Pinjaman"}),e(n,{className:"text-center",children:"Nama Mantri"}),e(n,{className:"text-center",children:"Status"}),e(n,{className:"text-center",children:"Ket"}),e(n,{className:"text-center",children:"Lunas"})]})}),e(v,{children:Object.keys(r).length!==0?t(s,{className:"text-center",children:[e(a,{children:r.id}),e(a,{children:r.nama}),e(a,{children:r.nik}),e(a,{children:r.alamat}),e(a,{children:r.branch}),e(a,{children:r.kelompok}),e(a,{children:r.hari}),e(a,{children:b(r.tanggal_drop).format("DD-MM-YYYY")}),e(a,{children:e(S,{value:r.pinjaman})}),e(a,{children:r.mantri}),e(a,{children:e(h,{value:r.status_pinjaman})}),e(a,{children:r.notes}),e(a,{children:e(h,{value:r.lunas?"Lunas":"Belum"})})]}):e(s,{children:e(a,{children:"Menunggu data . . ."})})})]})})]}),t("div",{className:"flex flex-col w-full gap-3 mt-3 lg:flex-row",children:[t(j,{className:"flex-[5]",children:[e(D,{children:e(C,{children:"Rincian Pinjaman"})}),e(y,{children:t(T,{children:[e(w,{className:"bg-gray-200",children:t(s,{children:[e(n,{className:"text-center",children:"Action"}),e(n,{className:"text-center",children:"Tanggal Pembayaran"}),e(n,{className:"text-center",children:"Jumlah"}),e(n,{className:"text-center",children:"Saldo"}),e(n,{className:"text-center",children:"Dana Titipan"}),e(n,{className:"text-center",children:"Mantri"}),e(n,{className:"text-center",children:"Status"})]})}),e(v,{children:Object.keys(r).length!==0?k.map(i=>t(s,{className:"text-center",children:[e(a,{children:e(I,{id:i.id})}),e(a,{children:b(i.transaction_date).format("DD-MM-YYYY")}),e(a,{children:e(S,{value:i.nominal})}),e(a,{children:i.saldo}),e(a,{children:i.danatitipan=="true"?"Yes":""}),e(a,{children:i.mantri}),t(a,{children:[" ",e(h,{value:i.status})]})]})):e(s,{children:e(a,{children:"Menunggu data . . ."})})})]})})]}),t("div",{className:"flex-[2]",children:[e(_,{triggeredId:r.id,triggeredPinjaman:r.pinjaman}),e(E,{loan:r}),t("div",{className:"flex items-center justify-end gap-3 p-3",children:[e("div",{className:"font-semibold",children:"Hapus Pinjaman"}),e(K,{id:r.id,onClosed:f})]})]})]})]})})};export{ge as default};
