import{W as b,j as o,a as r}from"./app-2f425a93.js";import{C as g,a as C,b as v,c as S,d as N}from"./card-d9a6fbbf.js";import k from"./Permission-91a759e8.js";import y from"./Role-9f043d7f.js";import{A as w}from"./AuthenticatedLayout-839d0dd8.js";import{L as A}from"./label-b58d5de1.js";import"./input-a8ceb4ba.js";import{B as P}from"./button-83fee3ba.js";import{S as R}from"./SelectList-1e965864.js";import{C as L}from"./Checkbox-d592ab92.js";import{I as j}from"./InputLabel-8e82e15d.js";import D from"./AssignRoles-b920fbce.js";import"./utils-46f1eee5.js";import"./Navbar-3133b91d.js";import"./index-0e0d5ae9.js";import"./createLucideIcon-a2c65c20.js";import"./SweetAlert-0c0fd891.js";import"./react-icons.esm-ad6a440a.js";import"./index-f315d2f8.js";import"./index-f0f566ce.js";import"./index-b9fbb659.js";import"./Loading-e8f73e4f.js";import"./transition-d525fa3f.js";import"./index-c857d398.js";import"./index-f96983da.js";const le=({role:n,permission:m,user:c,...I})=>{const{data:t,setData:l,post:p,processing:q,errors:B,reset:d}=b({role:"",permission:[]}),h=e=>{l(e.target.name,e.target.value)},u=e=>{const s=document.querySelectorAll('.checkbox-group input[type="checkbox"]'),x=Array.from(s).filter(a=>a.checked).map(a=>a.name);l(a=>({...a,permission:x}))},i=n.map(e=>({display:e.name,value:e.id,id:e.id}));console.log(i);const f=c.map(e=>({display:e.username,value:e.id,id:e.id}));return o(w,{children:[o("div",{className:"flex w-full gap-3 mb-3",children:[r(k,{}),r(y,{}),o(g,{className:"w-1/2",children:[o(C,{children:[r(v,{children:"Generate Permission"}),r(S,{children:"Permission"})]}),r(N,{children:o("form",{onSubmit:e=>{e.preventDefault(),p(route("adminpanel.role_assign"),{onSuccess:()=>{d()}})},children:[o("div",{className:"flex flex-col space-y-1.5 mb-3",children:[r(A,{htmlFor:"role",children:"Role Name"}),r(R,{options:i,label:"Role",placeholder:"Select Role",required:!0,name:"role",onChange:h,value:t.role,id:"role",nullvalue:!0})]}),r("div",{className:"flex flex-wrap gap-3 checkbox-group",children:t.role&&m.map((e,s)=>o("div",{className:"flex items-center flex-1 gap-3 whitespace-nowrap",children:[r(L,{name:e.name,onChange:u,placeholder:"Select Permission",id:e.name}),r(j,{htmlFor:e.name,children:e.name})]},s))}),r(P,{type:"submit",className:"mt-3",children:"Submit"})]})})]})]}),r("div",{className:"flex w-full gap-3",children:r(D,{userOptions:f,roleOptions:i})})]})};export{le as default};
