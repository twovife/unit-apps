import{a as s,q as _,r as x,W as j,j as e,F as d}from"./app-714a345e.js";import{L as P}from"./Loading-9691fe94.js";import{B as h}from"./badge-0b057bb8.js";import{B as t}from"./button-0f5bff30.js";import{L as v}from"./label-ff21b2fd.js";import{C as b}from"./index.esm-975b2ff6.js";const k=({value:c="User Tidak Bisa Melakukan Edit"})=>s("div",{className:"absolute top-0 left-0 w-full h-full bg-white/0 opacity-0 hover:bg-white/30 hover:opacity-100 hover:cursor-not-allowed duration-200 transition-all ease-in",children:s("div",{className:"flex h-full w-full items-center justify-center",children:s("div",{className:"font-black text-3xl",children:c})})});function A(){const{auth:c}=_().props,{permissions:o}=c;return x.useMemo(()=>{const n=o.includes("unit"),i=o.includes("area"),a=o.includes("pusat"),r=o.includes("can create");return{isUnit:n,isMantri:i,isPusat:a,isCreator:r}},[o])}const T=({id:c,acc:o,onClosed:m,triggeredData:n})=>{const{data:i,setData:a,put:r,errors:S,processing:w,reset:F,transform:C}=j({approved_nominal:"",status:"",drop:""}),{isUnit:M,isMantri:y,isPusat:B,isCreator:N}=A();x.useEffect(()=>{a(l=>({...l,approved_nominal:(n==null?void 0:n.acc)??(n==null?void 0:n.request),drop:n==null?void 0:n.acc}))},[c,o]);const f=(l,p)=>{a(p,l)},u=l=>{C(p=>({...p,status:l})),r(route("transaction.action_buku_transaksi",c),{onFinish:()=>{m()}})};return e("form",{className:"w-full",onSubmit:l=>l.preventDefault(),children:[!N&&s(k,{value:"User Tidak Dapat Digunakan Untuk Mengedit"}),s(P,{show:w}),s("div",{className:"mb-3",children:(n==null?void 0:n.status)==="open"?e(d,{children:[y&&s(k,{value:"Tunggu Pimpinan Acc Terlebih Dahulu"}),s(v,{htmlFor:"approved_nominal",children:"Nominal ACC"}),e("div",{className:"flex items-center justify-center gap-3",children:[s(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"approved_nominal",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:f,value:i.approved_nominal,placeholder:"Inputkan angka tanpa sparator"}),s(t,{variant:"green",onClick:()=>u("acc"),children:"ACC"}),s(t,{variant:"destructive",onClick:()=>u("tolak"),children:"Tolak"})]})]}):e(h,{size:"lg",variant:"green",children:["Status Pengajuan = ",n==null?void 0:n.status,", Pada Tanggal",n==null?void 0:n.check_date]})}),(n==null?void 0:n.status)!=="open"&&s("div",{className:"mb-3",children:(n==null?void 0:n.status)==="acc"?e(d,{children:[s(v,{htmlFor:"drop",className:"whitespace-normal",children:"Drop Jadi"}),e("div",{className:"flex items-center justify-center gap-3",children:[s(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"drop",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:f,value:i.drop,placeholder:"Inputkan angka tanpa sparator"}),s(t,{variant:"green",onClick:()=>u("success"),children:"DROP"}),s(t,{variant:"destructive",onClick:()=>u("gagal"),children:"GAGAL"})]})]}):e(h,{size:"lg",variant:"green",children:["Status Pengajuan = ",n==null?void 0:n.status,", Tanggal",n==null?void 0:n.check_date]})})]})},I=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{T as A,k as N,I as a,A as u};
