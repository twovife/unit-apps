import{r as y,j as t,a,b as w,d as C}from"./app-1b050a65.js";import{I as i}from"./InputLabel-d5db3934.js";import{L as T}from"./LinkButton-c751c59b.js";import{P as S}from"./PrimaryButton-a26a8ed0.js";import{S as m}from"./SelectList-2328f4c7.js";import{T as h}from"./TextInput-e29cc122.js";import{u as L}from"./useServerFilter-e2e9b5a4.js";import{M}from"./MobileLayout-0382170d.js";import{d as p}from"./dayjs.min-77524380.js";import{N as F}from"./react-number-format.es-dd7647d9.js";import"./Loading-956b91e8.js";import"./transition-442663d2.js";import"./index-d4522d2d.js";const G=({data:c,branch:j,server_filters:l,...s})=>{const{serverFilters:n,onServerFilterChange:o,onServerFilterSubmit:u,loading:N,setLoading:D,mantriMantri:g,transaction_day:x}=L(route().current(),l);console.log(l);const f=l.previledge=="mantri"?[{id:1,value:l.kelompok,display:`Mantri ${l.kelompok}`}]:g,[d,b]=y.useState(""),v=()=>c.filter(e=>{const r=d.toLowerCase();return e.nik.toLowerCase().includes(r)||e.nama.toLowerCase().includes(r)||e.id==r}),k=e=>{b(e.target.value)};return t(M,{auth:s.auth,errors:s.errors,header:"Buku Transaksi",loading:N,children:[a(w,{title:"Buku Transaksi"}),t("div",{className:"mb-3",children:[t("div",{className:"flex justify-between items-center w-full gap-1 flex-wrap",children:[t("div",{className:"flex-1",children:[a(i,{htmlFor:"kelompok",value:"Kelompok"}),a(m,{id:"kelompok",type:"text",onChange:o,name:"kelompok",value:n.kelompok,options:f,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),t("div",{className:"flex-1",children:[a(i,{htmlFor:"hari",value:"Hari"}),a(m,{id:"hari",type:"text",onChange:o,name:"hari",value:n.hari,options:x,className:"mt-1 block w-full",autoComplete:"hari"})]}),t("div",{className:"flex-1",children:[a(i,{htmlFor:"date",value:"Tanggal Pengajuan"}),t("div",{className:"flex text-center items-center gap-1",children:[a("div",{className:"flex-1",children:a(h,{id:"date",type:"month",onChange:o,value:n.date,name:"date",className:"mt-1 block w-full"})}),a(S,{onClick:u,title:"Cari"}),a(T,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),a("div",{className:"w-full mt-3",children:a(h,{value:d,onChange:k,className:"w-full",placeHolder:"Masukkan NIK / Nama"})})]}),a("div",{className:"overflow-auto rounded shadow-sm max-h-[50vh] lg:max-h-[65vh] border-b-2",children:t("table",{className:"text-sm w-full border",children:[a("thead",{className:"bg-gray-200",children:t("tr",{className:"text-center",children:[a("td",{className:"p-2",children:"Tgl"}),a("td",{className:"p-2",children:"Nasabah"}),a("td",{className:"p-2",children:"Drop"}),a("td",{className:"p-2",children:"Status"}),a("td",{className:"p-2",children:"No. Trans"})]})}),a("tbody",{children:c&&v().map((e,r)=>t("tr",{className:`even:bg-gray-100 text-xs text-center ${e.id==s.id?"bg-green-100":""}`,children:[t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"font-semibold text-sm"}),t("div",{className:"mb-1 italic font-light whitespace-nowrap",children:[a("span",{className:"capitalize",children:"Pengajuan : "}),e.transaction_date?p(e.transaction_date).format("DD-MM-YY"):"","/"]}),a("div",{className:"mb-1 italic font-light",children:t("span",{className:"capitalize",children:["Drop : ",e.tanggal_drop?p(e.tanggal_drop).format("DD-MM-YY"):""]})})]}),t("td",{className:"px-2 py-1 text-start",children:[a("div",{className:"mb-1 font-semibold",children:e.nama}),a("div",{className:"mb-1",children:e.nik}),a("div",{className:"mb-1 font-light italic",children:e.alamat})]}),a("td",{className:"px-2 py-1 text-end",children:a(F,{value:e.drop,displayType:"text",thousandSeparator:","})}),a("td",{className:"px-2 py-1 text-center",children:a(C,{className:`${e.status=="acc"?"bg-green-500":e.status=="tolak"?"bg-red-500":"bg-blue-500"} px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded`,href:route("mantriapps.show",e.id),children:e.status})}),a("td",{className:"px-2 py-1",children:a("div",{children:e.id})})]},r))})]})})]})};export{G as default};
