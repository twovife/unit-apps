import{W as C,r as t,j as n,a,F as I}from"./app-40866ad0.js";import{C as N}from"./Checkbox-65600f8d.js";import{I as F}from"./InputLabel-4ff30625.js";import{L as T}from"./Loading-c8662e9e.js";import{B as L}from"./BadgeStatus-e4472c47.js";import{B as h}from"./button-3af9671f.js";import{D as j,a as B,b as K,c as g,d as f}from"./dialog-28dfb3d9.js";import{I as q}from"./input-f8cc1bc8.js";import{L as p}from"./index-8d849060.js";import{C as b}from"./index.esm-16f64ca1.js";import"./transition-e2b9f83c.js";import"./badge-bf7653f0.js";import"./index-f96983da.js";import"./utils-46f1eee5.js";import"./index-27abc2a4.js";import"./react-icons.esm-ff40bc45.js";import"./index-773c4d1b.js";const aa=({show:k=!1,onClosed:u,triggeredData:e,type:s})=>{const{data:r,setData:i,post:v,reset:c,errors:O,processing:x}=C({id:"",kelompok:"",date:"",kasbon:"",transport:"",type:"1"}),[m,A]=t.useState(!1),l=t.useRef(null);t.useEffect(()=>{l.current&&(console.log("asd"),l.current.focus())},[l.current]),t.useEffect(()=>{e&&i({id:e.id,kelompok:e.kelompok,date:e.tanggal,kasbon:e.rekap_status?e.kasbon:2e5,transport:e.transport,type:s,tunai:s==1?0:e.tunai})},[e]);const y=o=>{i(o.target.name,o.target.type==="checkbox"?o.target.checked:o.target.value)},d=(o,S)=>{i(S,o)},_=()=>{u(),c()},w=o=>{o.preventDefault(),v(route("kasir.rekap.rekap_post"),{onSuccess:()=>{c(),u()}})};return n(j,{open:k,onOpenChange:o=>o?"":_(),children:[a(T,{show:m||x}),a(B,{className:"w-[90vw] h-[90vh] lg:h-auto lg:max-w-xl overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:m?a("div",{children:"Data Sedang Dimuat"}):n(K,{children:[a(g,{children:s==1?"Input Kasbon & Transport":"Cek Tunai Mantri"}),e!=null&&e.status_dayly_approval?a(f,{children:"'Data Sudah DiSetujui Kasid & Pimpinan, Data Pada Tanggal Ini Telah Ditutup'"}):a(f,{children:n("form",{onSubmit:w,children:[n("div",{className:"mb-3",children:[a(p,{htmlFor:"date",children:"Tanggal"}),a(q,{readOnly:!0,name:"date",type:"date",required:!0,onChange:y,value:r.date})]}),n("div",{className:"mb-3",children:[a(p,{htmlFor:"kasbon",children:"Kasbon"}),a(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"kasbon",readOnly:r.status_dayly_approval,allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:d,value:r.kasbon,placeholder:"Inputkan angka tanpa sparator"})]}),n("div",{className:"mb-3",children:[a(p,{htmlFor:"transport",children:"Transport"}),a(b,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-sm h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"transport",allowDecimals:!1,ref:l,readOnly:r.status_dayly_approval,prefix:"Rp. ",min:1,required:!0,onValueChange:d,value:r.transport,placeholder:"Inputkan angka tanpa sparator"})]}),(e==null?void 0:e.status_approve_kepala)&&a(L,{className:"mb-3",value:"acc",children:"Kepala Sudah Aprov"}),(e==null?void 0:e.status_approve_kepala)&&s==2&&n(I,{children:[n("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[a(N,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),a(F,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),a("div",{className:"mb-3 text-right",children:a(h,{type:"submit",children:"Submit"})})]}),s==1&&a("div",{className:"mb-3 text-right",children:a(h,{type:"submit",children:"Submit"})})]})})]})})]})};export{aa as default};
