import{r as y,j as l,a as e,d as k}from"./app-97d429f4.js";import{I as m}from"./InputLabel-1489dfcb.js";import{L as w}from"./LinkButton-b79c40dd.js";import{P as S}from"./PrimaryButton-6123e359.js";import{S as h}from"./SelectList-88854778.js";import{T as j}from"./TextInput-824cc8ef.js";import{u as C}from"./useServerFilter-53f77ff5.js";import{M as L}from"./MobileLayout-aa0f1134.js";import{d as T}from"./dayjs.min-8f24f818.js";import{N as i}from"./react-number-format.es-db56f8c5.js";import"./Loading-e4583ca9.js";import"./transition-be5b09eb.js";import"./index-94c06e17.js";const $=({data:n,server_filters:t,...s})=>{const{serverFilters:o,onServerFilterChange:d,onServerFilterSubmit:p,loading:u,setLoading:F,mantriMantri:N,transaction_day:b}=C(route().current(),t),v=t.previledge=="mantri"?[{id:1,value:t.kelompok,display:t.kelompok}]:N,[c,x]=y.useState(""),f=()=>n.filter(a=>{const r=c.toLowerCase();return a.nik.toLowerCase().includes(r)||a.nama.toLowerCase().includes(r)||a.id==r}),g=a=>{x(a.target.value)};return l(L,{auth:s.auth,errors:s.errors,header:"Drop Harians",loading:u,children:[l("div",{className:"mb-3",children:[l("div",{className:"flex justify-between items-center w-full gap-1",children:[l("div",{className:"flex-1",children:[e(m,{htmlFor:"kelompok",value:"Kelompok"}),e(h,{id:"kelompok",type:"text",onChange:d,name:"kelompok",value:o.kelompok,options:v,className:"mt-1 block w-full",autoComplete:"kelompok"})]}),l("div",{className:"flex-1",children:[e(m,{htmlFor:"hari",value:"Hari"}),l("div",{className:"flex text-center items-center gap-1",children:[e("div",{className:"flex-1",children:e(h,{id:"hari",type:"text",onChange:d,name:"hari",value:o.hari,options:b,className:"mt-1 block w-full"})}),e(S,{onClick:p,title:"Cari"}),e(w,{color:"blue",as:"a",href:route("mantriapps.index"),title:"Home"})]})]})]}),e("div",{className:"w-full mt-3",children:e(j,{value:c,onChange:g,className:"w-full",placeholder:"Masukkan NIK / Nama"})})]}),e("div",{className:"overflow-auto rounded shadow-lg max-h-[50vh] border-b-2 border-2 border-white/50",children:l("table",{className:"text-sm w-full border",children:[e("thead",{className:"bg-gray-200",children:l("tr",{className:"text-center",children:[e("td",{className:"p-2",children:"Tgl"}),e("td",{className:"p-2",children:"Nasabah"}),e("td",{className:"p-2",children:"Pinjaman"}),e("td",{className:"p-2",children:"Status"}),e("td",{className:"p-2",children:"Kel"})]})}),e("tbody",{children:n&&f().map((a,r)=>l("tr",{className:`even:bg-gray-100 text-xs ${a.id==s.id?"bg-green-100":""}`,children:[l("td",{className:"px-2 py-1",children:[e("div",{className:"font-semibold text-sm"}),e("div",{className:"mb-1 italic font-light whitespace-nowrap",children:l("span",{className:"capitalize",children:[a.hari,","]})}),e("div",{className:"mb-1 italic font-light",children:e("span",{className:"capitalize",children:a.tanggal_drop?T(a.tanggal_drop).format("DD-MM-YY"):""})})]}),l("td",{className:"px-2 py-1",children:[e("div",{className:"mb-1 font-semibold",children:a.nama}),e("div",{className:"mb-1",children:a.nik}),e("div",{className:"mb-1 font-light italic",children:a.alamat})]}),e("td",{className:"px-2 py-1 text-end",children:l("div",{className:"text-xs",children:[l("div",{className:"flex justify-between gap-6",children:[e("div",{children:"Pinj"}),e(i,{value:a.pinjaman,displayType:"text",thousandSeparator:","})]}),l("div",{className:"flex justify-between mb-1 border-b-black border-b-2",children:[e("div",{children:"Angs"}),e(i,{value:a.total_angsuran,displayType:"text",thousandSeparator:","})]}),l("div",{className:"flex justify-between",children:[e("div",{children:"Saldo"}),e(i,{value:a.saldo_ansuran,displayType:"text",thousandSeparator:","})]})]})}),e("td",{className:"px-2 py-1 text-center",children:e(k,{className:"bg-blue-500 px-2 py-1.5 hover:bg-blue-700 text-white hover:cursor-pointer rounded",href:route("mantriapps.bayar",a.id),children:a.status})}),l("td",{className:"px-2 py-1 text-end",children:[e("div",{children:a.mantri}),e("div",{children:a.kelompok})]})]},r))})]})})]})};export{$ as default};
