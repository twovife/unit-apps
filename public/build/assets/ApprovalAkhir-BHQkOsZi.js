import{X as T,G,r as J,j as e}from"./app-CiLROors.js";import{D as K,a as P,b as X,c as z}from"./dialog-DDFWZ_jw.js";import{C as S,a as I,b as A,d as c}from"./card-WB0Dmft6.js";import{L as n}from"./label-Sm4jSIme.js";import{C as a}from"./index.esm-CtFEp_IL.js";import{B as Q}from"./button-B-_ZI9JP.js";import{L as U}from"./Loading-B9XM0ZiZ.js";import{C as W}from"./Checkbox-DGR8S4Ul.js";import{I as Y}from"./InputLabel-Cq94cAbI.js";import"./index-CuQQkl3E.js";import"./index-BQ-jIUZW.js";import"./index-CNeZ6nCW.js";import"./Combination-DaDLpYmH.js";import"./index-wjHrwwr2.js";import"./index-mJOGoI4y.js";import"./index-CafNyFL5.js";import"./react-icons.esm-DLSmXl2m.js";import"./utils-CytzSlOG.js";import"./index-D2LLDp0i.js";import"./transition-uE1NqY_f.js";const ge=({datas:l,show:p=!1,onClosed:q})=>{const{sirkulasi:i,server_filter:{month:F,hari:R,groupId:V}}=T().props,{data:r,setData:f,post:O,processing:B}=G({ml_amount:"",mb_amount:"",cm_amount:"",amount:"",amount_next:"",cm_next:"",mb_next:"",ml_next:""});J.useEffect(()=>{var u,d,t,b,h,g,_,v,w,j,k,y,N,C,D;const s=L=>Object.values(L).reduce((E,{saldo:H})=>E+H,0);let m=0;l&&(m=s(l)),f({month:F,hari:R,transaction_loan_officer_grouping_id:V,ml_amount:(i==null?void 0:i.ml_amount)??0,mb_amount:(i==null?void 0:i.mb_amount)??0,cm_amount:(i==null?void 0:i.cm_amount)??0,calon_cm_amount:((u=l==null?void 0:l.ccm)==null?void 0:u.sirkulasi)??0,normal:(((d=l==null?void 0:l.n1)==null?void 0:d.sirkulasi)??0)+(((t=l==null?void 0:l.normal)==null?void 0:t.sirkulasi)??0),amount:(i==null?void 0:i.amount)??0,ml_amount_akhir:((b=l==null?void 0:l.ml)==null?void 0:b.saldo)??0,mb_amount_akhir:((h=l==null?void 0:l.mb)==null?void 0:h.saldo)??0,cm_amount_akhir:((g=l==null?void 0:l.cm)==null?void 0:g.saldo)??0,calon_cm_amount_akhir:((_=l==null?void 0:l.ccm)==null?void 0:_.saldo)??0,normal_akhir:(((v=l==null?void 0:l.n1)==null?void 0:v.saldo)??0)+(((w=l==null?void 0:l.normal)==null?void 0:w.saldo)??0),amount_akhir:m,amount_next:m,ml_next:(((j=l==null?void 0:l.ml)==null?void 0:j.saldo)??0)+(((k=l==null?void 0:l.mb)==null?void 0:k.saldo)??0),mb_next:((y=l==null?void 0:l.cm)==null?void 0:y.saldo)??0,cm_next:((N=l==null?void 0:l.ccm)==null?void 0:N.saldo)??0,normal_next:(((C=l==null?void 0:l.n1)==null?void 0:C.saldo)??0)+(((D=l==null?void 0:l.normal)==null?void 0:D.saldo)??0)})},[i,p]);const x=()=>{q()},M=s=>{s.preventDefault(),O(route("adminpanel.sirkulasiAwal"),{onSuccess:()=>{x()}})},o=(s,m)=>{const u=["ml_next","mb_next","cm_next","normal_next"];let d=0;u.forEach(t=>{t===m?d+=parseInt(s):d+=parseInt(r[t])}),f(t=>({...t,[m]:s,amount_next:d}))};return e.jsxs(K,{open:p,onOpenChange:s=>s?"":x(),children:[e.jsx(U,{show:B}),e.jsxs(P,{className:"w-[90vw] h-[90vh] overflow-auto scrollbar-thumb-gray-300 scrollbar-track-transparent scrollbar-thin",children:[e.jsx(X,{className:"max-h-10",children:e.jsx(z,{children:"Isi Angsuran"})}),e.jsx(S,{className:"w-full",children:e.jsxs(I,{children:[e.jsx(A,{children:"Sirkulasi"}),e.jsxs(S,{className:"w-full",children:[e.jsx(I,{children:e.jsx(A,{children:"Sirkulasi Awal"})}),e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"flex w-full",children:[e.jsxs(c,{className:"flex-1",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"amount",children:"Sirkulasi Awal"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.amount,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"ml_amount",children:"Saldo Awal (ML)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.ml_amount,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"mb_amount",children:"Saldo Awal (MB)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.mb_amount,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"cm_amount",children:"Saldo Awal (CM)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"calon_cm_amount",children:"Saldo Awal (Calon CM)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.calon_cm_amount,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"normal",children:"Saldo Awal (Normal)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.normal,placeholder:"Inputkan angka tanpa sparator"})]})]}),e.jsxs(c,{className:"flex-1",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{children:"Sirkulasi Akhir"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,value:r.amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"ml_amount_akhir",children:"Saldo Akhir (ML)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.ml_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"mb_amount_akhir",children:"Saldo Akhir (MB)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.mb_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"cm_amount_akhir",children:"Saldo Akhir (CM)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"calon_cm_amount_akhir",children:"Saldo Akhir (Calon CM)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"calon_cm_amount_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.calon_cm_amount_akhir,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"normal_akhir",children:"Saldo Akhir (Normal)"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_akhir",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,readOnly:!0,onValueChange:o,value:r.normal_akhir,placeholder:"Inputkan angka tanpa sparator"})]})]}),e.jsxs(c,{className:"flex-1",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"amount_next",children:"Sirkulasi Awal Bulan Depan"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"amount_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:o,value:r.amount_next,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"ml_next",children:"Saldo ML Awal Bulan Depan"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"ml_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:o,value:r.ml_next,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"mb_next",children:"Saldo MB Awal Bulan Depan"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"mb_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:o,value:r.mb_next,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"cm_next",children:"Saldo CM Awal Bulan Depan"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"cm_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:o,value:r.cm_next,placeholder:"Inputkan angka tanpa sparator"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"normal_next",children:"Saldo Normal Awal Bulan Depan"}),e.jsx(a,{className:"flex w-full px-3 py-1 text-sm transition-colors bg-transparent border rounded-md shadow-xs h-9 border-input file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",name:"normal_next",allowDecimals:!1,prefix:"Rp. ",min:0,required:!0,onValueChange:o,value:r.normal_next,placeholder:"Inputkan angka tanpa sparator"})]})]})]}),e.jsxs("div",{className:"flex justify-end p-3",children:[e.jsxs("div",{className:"flex items-center justify-start flex-1 gap-3 mb-1 whitespace-nowrap",children:[e.jsx(W,{placeholder:"Select Permission",id:"daily_kepala_approval",required:!0}),e.jsx(Y,{htmlFor:"daily_kepala_approval",children:"Konfirmasi Jika Sudah Benar Semua"})]}),e.jsx(Q,{type:"submit",children:"Submit"})]})]})]})]})})]})]})};export{ge as default};
