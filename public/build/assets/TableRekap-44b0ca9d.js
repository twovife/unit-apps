import{r as c,j as f,a,d,F as S,R as T}from"./app-d0c32e8e.js";import{F as l,T as N,a as k,b as i,c as p,d as R,e as v,f as j}from"./FormatNumbering-3cbd1803.js";import{u as V,f as m,g as B}from"./index-7fbc92b8.js";import{B as _}from"./BargeStatus-f3b142d2.js";import"./button-17a62d66.js";import"./utils-36e2ef84.js";import"./react-number-format.es-7dbd39b4.js";const G=({setOnShowModal:y,setTriggeredData:b,datas:g})=>{const[h,w]=c.useState([]);c.useEffect(()=>{w(g)},[g]);const n=(e=>e.reduce((t,r)=>(Object.keys(r).forEach(s=>{t[s]=(t[s]||0)+(r[s]||0)}),t),{}))(h),o=(e,t)=>{var s;const r=e.table.getRowModel().rows;return(s=r[r.length-1])==null?void 0:s.getValue(t)},M=e=>{y(!0),b(e)},K=c.useMemo(()=>[{header:"",accessorKey:"kelompok",cell:({getValue:e,cell:t})=>f("div",{className:"flex items-center justify-center gap-3",children:[a("div",{children:t.row.original.type=="daily"?e():d(t.row.original.tanggal).format("DD-MM")}),a(_,{onClick:()=>M(t.row.original),value:t.row.original.status_dayly_approval,children:t.row.original.status_dayly_approval?"Approved":"Open"})]})},{header:"Drop",accessorKey:"drop",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>a(l,{value:n.drop})},{header:"Jumlah Drop",accessorKey:"total_drop",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"total_drop");return a(l,{value:t})}},{header:"Storting",accessorKey:"storting",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>a(l,{value:n.storting})},{header:"Jumlah Storting",accessorKey:"total_storting",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"total_storting");return a(l,{value:t})}},{header:"Sirkulasi",accessorKey:"sirkulasi",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"sirkulasi");return a(l,{value:t})}},{header:"Angsuran CM",accessorKey:"angsuran_cm",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>a(l,{value:n.angsuran_cm})},{header:"Jumlah CM",accessorKey:"total_angsuran_cm",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"total_angsuran_cm");return a(l,{value:t})}},{header:"Saldo CM",accessorKey:"saldo_cm",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"saldo_cm");return a(l,{value:t})}},{header:"Angsuran MB",accessorKey:"angsuran_mb",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>a(l,{value:n.angsuran_mb})},{header:"Jumlah MB",accessorKey:"total_angsuran_mb",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"total_angsuran_mb");return a(l,{value:t})}},{header:"Saldo MB",accessorKey:"saldo_mb",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"saldo_mb");return a(l,{value:t})}},{header:"Angsuran ML",accessorKey:"angsuran_ml",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>a(l,{value:n.angsuran_ml})},{header:"Jumlah ML",accessorKey:"total_angsuran_ml",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"total_angsuran_ml");return a(l,{value:t})}},{header:"Saldo ML",accessorKey:"saldo_ml",cell:({getValue:e})=>a(l,{value:e()}),footer:e=>{const t=o(e,"saldo_ml");return a(l,{value:t})}},{header:"Kasir",accessorKey:"status_approve_kasir",cell:({getValue:e,cell:t})=>a("div",{className:"flex items-center justify-center gap-3",children:a("div",{children:e()?d(e()).format("DD-MM-YY"):""})})},{header:"Pimp",accessorKey:"status_approve_kepala",cell:({getValue:e,cell:t})=>a("div",{className:"flex items-center justify-center gap-3",children:a("div",{children:e()?d(e()).format("DD-MM-YY"):""})})}],[n]),u=V({data:h,columns:K,getCoreRowModel:B(),debugTable:!0}),[A,C]=c.useState(!1),[J,x]=c.useState(),D=e=>{C(!0),x(e)};return a(S,{children:f(N,{className:"w-full mb-3 table-auto",children:[a(k,{className:"sticky top-0 z-10 bg-gray-100",children:u.getHeaderGroups().map((e,t)=>a(i,{children:e.headers.map((r,s)=>a(p,{className:"text-center",children:m(r.column.columnDef.header,r.getContext())},s))},t))}),a(R,{children:u.getRowModel().rows.length?u.getRowModel().rows.map((e,t)=>a(T.Fragment,{children:a(i,{className:"text-center",children:e.getVisibleCells().map(r=>a(v,{className:`${r.column.columnDef.className}`,children:r.column.columnDef.type=="show"?a("div",{className:"flex items-center justify-center gap-2",children:a(_,{value:r.row.original.status,onClick:()=>D(r.row.original)})}):m(r.column.columnDef.cell,r.getContext())},r.id))},t)},t)):a(i,{children:a(v,{colSpan:"4",children:"Belum Ada Catatan Pinjaman"})})}),a(j,{children:u.getFooterGroups().map(e=>a(i,{children:e.headers.map(t=>a(p,{className:"text-center text-black bg-gray-100",children:m(t.column.columnDef.footer,t.getContext())},t.id))},e.id))})]})})};export{G as default};
